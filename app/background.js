!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("electron-serve"),require("electron-store"),require("debug"),require("ip-address"),require("axios"),require("compare-versions"),require("github-url-to-object"),require("jose"),require("uuid-1345"),require("xbox-webapi"));else if("function"==typeof define&&define.amd)define(["electron-serve","electron-store","debug","ip-address","axios","compare-versions","github-url-to-object","jose","uuid-1345","xbox-webapi"],e);else{var r="object"==typeof exports?e(require("electron-serve"),require("electron-store"),require("debug"),require("ip-address"),require("axios"),require("compare-versions"),require("github-url-to-object"),require("jose"),require("uuid-1345"),require("xbox-webapi")):e(t["electron-serve"],t["electron-store"],t.debug,t["ip-address"],t.axios,t["compare-versions"],t["github-url-to-object"],t.jose,t["uuid-1345"],t["xbox-webapi"]);for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(global,((t,e,r,n,s,i,o,a,c,u)=>(()=>{var l={2742:t=>{"use strict";t.exports=s},7831:t=>{"use strict";t.exports=i},6763:t=>{"use strict";t.exports=r},9440:e=>{"use strict";e.exports=t},1662:t=>{"use strict";t.exports=e},2181:t=>{"use strict";t.exports=o},5876:t=>{"use strict";t.exports=n},9603:t=>{"use strict";t.exports=a},8109:t=>{"use strict";t.exports=c},2170:t=>{"use strict";t.exports=u},6615:(t,e,r)=>{t.exports=r(8402)},7169:(t,e,r)=>{t.exports=r(7867)},6319:(t,e,r)=>{t.exports=r(2616)},6226:(t,e,r)=>{t.exports=r(4525)},8628:(t,e,r)=>{t.exports=r(6343)},5413:(t,e,r)=>{t.exports=r(1618)},1721:(t,e,r)=>{t.exports=r(2990)},129:(t,e,r)=>{t.exports=r(1086)},1265:(t,e,r)=>{r(4598)},5569:(t,e,r)=>{t.exports=r(6660)},9544:(t,e,r)=>{t.exports=r(975)},5110:(t,e,r)=>{t.exports=r(9703)},1549:(t,e,r)=>{t.exports=r(8251)},8928:(t,e,r)=>{t.exports=r(6513)},6751:(t,e,r)=>{t.exports=r(3220)},6100:(t,e,r)=>{t.exports=r(9563)},697:(t,e,r)=>{t.exports=r(6490)},1240:(t,e,r)=>{t.exports=r(5204)},7189:(t,e,r)=>{r(9270)},6255:(t,e,r)=>{t.exports=r(568)},9261:(t,e,r)=>{t.exports=r(9157)},6512:(t,e,r)=>{t.exports=r(8348)},6984:(t,e,r)=>{t.exports=r(9792)},533:(t,e,r)=>{var n=r(591),s=r(4704);t.exports=function(t,e,r){return(e=s(e))in t?n(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},6973:(t,e,r)=>{var n=r(8130),s=r(1234).default;t.exports=function(t,e){if("object"!=s(t)||!t)return t;var r=t[n];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},4704:(t,e,r)=>{var n=r(1234).default,s=r(6973);t.exports=function(t){var e=s(t,"string");return"symbol"==n(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},1234:(t,e,r)=>{var n=r(3071),s=r(4473);function i(e){return t.exports=i="function"==typeof n&&"symbol"==typeof s?function(t){return typeof t}:function(t){return t&&"function"==typeof n&&t.constructor===n&&t!==n.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},6040:(t,e,r)=>{"use strict";var n=r(8251);t.exports=n},7264:(t,e,r)=>{"use strict";var n=r(4139);r(768),r(8549),r(7152),r(1372),t.exports=n},9692:(t,e,r)=>{"use strict";var n=r(7045);t.exports=n},5663:(t,e,r)=>{"use strict";var n=r(70);t.exports=n},3531:(t,e,r)=>{"use strict";r(2425);var n=r(2046);t.exports=n.Array.isArray},6177:(t,e,r)=>{"use strict";r(9295);var n=r(1747);t.exports=n("Array","filter")},2092:(t,e,r)=>{"use strict";r(5650);var n=r(1747);t.exports=n("Array","forEach")},1362:(t,e,r)=>{"use strict";r(9748);var n=r(1747);t.exports=n("Array","includes")},6535:(t,e,r)=>{"use strict";r(9363),r(3643);var n=r(1747);t.exports=n("Array","keys")},5939:(t,e,r)=>{"use strict";r(521);var n=r(1747);t.exports=n("Array","some")},1263:(t,e,r)=>{"use strict";r(6737);var n=r(1747);t.exports=n("Array","sort")},5354:(t,e,r)=>{"use strict";r(5362);var n=r(2046);t.exports=n.Date.now},3155:(t,e,r)=>{"use strict";var n=r(8280),s=r(6177),i=Array.prototype;t.exports=function(t){var e=t.filter;return t===i||n(i,t)&&e===i.filter?s:e}},6880:(t,e,r)=>{"use strict";var n=r(8280),s=r(1362),i=r(4378),o=Array.prototype,a=String.prototype;t.exports=function(t){var e=t.includes;return t===o||n(o,t)&&e===o.includes?s:"string"==typeof t||t===a||n(a,t)&&e===a.includes?i:e}},9685:(t,e,r)=>{"use strict";var n=r(8280),s=r(5939),i=Array.prototype;t.exports=function(t){var e=t.some;return t===i||n(i,t)&&e===i.some?s:e}},2757:(t,e,r)=>{"use strict";var n=r(8280),s=r(1263),i=Array.prototype;t.exports=function(t){var e=t.sort;return t===i||n(i,t)&&e===i.sort?s:e}},3423:(t,e,r)=>{"use strict";var n=r(8280),s=r(7511),i=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===i||n(i,t)&&e===i.trim?s:e}},317:(t,e,r)=>{"use strict";r(6648),r(9721);var n=r(2046),s=r(6024);n.JSON||(n.JSON={stringify:JSON.stringify}),t.exports=function(t,e,r){return s(n.JSON.stringify,null,arguments)}},7367:(t,e,r)=>{"use strict";r(1340);var n=r(2046);t.exports=n.Object.assign},8970:(t,e,r)=>{"use strict";r(7810);var n=r(2046).Object,s=t.exports=function(t,e){return n.defineProperties(t,e)};n.defineProperties.sham&&(s.sham=!0)},1926:(t,e,r)=>{"use strict";r(6750);var n=r(2046).Object,s=t.exports=function(t,e,r){return n.defineProperty(t,e,r)};n.defineProperty.sham&&(s.sham=!0)},5092:(t,e,r)=>{"use strict";r(7052);var n=r(2046).Object,s=t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)};n.getOwnPropertyDescriptor.sham&&(s.sham=!0)},9147:(t,e,r)=>{"use strict";r(179);var n=r(2046);t.exports=n.Object.getOwnPropertyDescriptors},4776:(t,e,r)=>{"use strict";r(4452);var n=r(2046);t.exports=n.Object.getOwnPropertySymbols},9661:(t,e,r)=>{"use strict";r(3589);var n=r(2046);t.exports=n.Object.keys},7027:(t,e,r)=>{"use strict";r(4502),r(9363),r(3643),r(5931),r(7450),r(6415),r(5823),r(7714),r(7057);var n=r(2046);t.exports=n.Promise},9378:(t,e,r)=>{"use strict";r(9363),r(3643),r(1542),r(6951),r(5905),r(1852),r(7809),r(106),r(2657),r(3709),r(7057);var n=r(2046);t.exports=n.Set},4378:(t,e,r)=>{"use strict";r(9770);var n=r(1747);t.exports=n("String","includes")},7511:(t,e,r)=>{"use strict";r(727);var n=r(1747);t.exports=n("String","trim")},3842:(t,e,r)=>{"use strict";r(8545),r(3643),r(4452),r(3997),r(5084),r(2596),r(5721),r(4954),r(4123),r(3377),r(2230),r(5344),r(1660),r(4610),r(3669),r(4810),r(3325),r(7024),r(8172),r(5205);var n=r(2046);t.exports=n.Symbol},1730:(t,e,r)=>{"use strict";r(9363),r(3643),r(7057),r(4954);var n=r(560);t.exports=n.f("iterator")},1661:(t,e,r)=>{"use strict";r(8537),r(3669);var n=r(560);t.exports=n.f("toPrimitive")},591:(t,e,r)=>{"use strict";t.exports=r(4997)},3071:(t,e,r)=>{"use strict";t.exports=r(2321)},4473:(t,e,r)=>{"use strict";t.exports=r(2231)},8130:(t,e,r)=>{"use strict";t.exports=r(9280)},4997:(t,e,r)=>{"use strict";var n=r(6040);t.exports=n},2321:(t,e,r)=>{"use strict";var n=r(7264);r(3939),r(1785),r(1697),r(4664),r(3422),r(36),r(8703),r(6878),r(9671),r(359),t.exports=n},2231:(t,e,r)=>{"use strict";var n=r(9692);t.exports=n},9280:(t,e,r)=>{"use strict";var n=r(5663);t.exports=n},2159:(t,e,r)=>{"use strict";var n=r(2250),s=r(4640),i=TypeError;t.exports=function(t){if(n(t))return t;throw new i(s(t)+" is not a function")}},2235:(t,e,r)=>{"use strict";var n=r(5468),s=r(4640),i=TypeError;t.exports=function(t){if(n(t))return t;throw new i(s(t)+" is not a constructor")}},43:(t,e,r)=>{"use strict";var n=r(4018),s=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw new i("Can't set "+s(t)+" as a prototype")}},2911:(t,e,r)=>{"use strict";var n=r(4640),s=TypeError;t.exports=function(t){if("object"==typeof t&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new s(n(t)+" is not a set")}},2156:t=>{"use strict";t.exports=function(){}},9596:(t,e,r)=>{"use strict";var n=r(8280),s=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new s("Incorrect invocation")}},6624:(t,e,r)=>{"use strict";var n=r(6285),s=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw new i(s(t)+" is not an object")}},6375:(t,e,r)=>{"use strict";var n=r(8828);t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},2914:(t,e,r)=>{"use strict";var n=r(726).forEach,s=r(7623)("forEach");t.exports=s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},1229:(t,e,r)=>{"use strict";var n=r(8311),s=r(3930),i=r(9298),o=r(6818),a=r(7812),c=r(5468),u=r(575),l=r(5543),h=r(300),p=r(3448),f=Array;t.exports=function(t){var e=i(t),r=c(this),d=arguments.length,g=d>1?arguments[1]:void 0,v=void 0!==g;v&&(g=n(g,d>2?arguments[2]:void 0));var m,y,w,x,_,b,S=p(e),k=0;if(!S||this===f&&a(S))for(m=u(e),y=r?new this(m):f(m);m>k;k++)b=v?g(e[k],k):e[k],l(y,k,b);else for(y=r?new this:[],_=(x=h(e,S)).next;!(w=s(_,x)).done;k++)b=v?o(x,g,[w.value,k],!0):w.value,l(y,k,b);return y.length=k,y}},4436:(t,e,r)=>{"use strict";var n=r(7374),s=r(4849),i=r(575),o=function(t){return function(e,r,o){var a=n(e),c=i(a);if(0===c)return!t&&-1;var u,l=s(o,c);if(t&&r!=r){for(;c>l;)if((u=a[l++])!=u)return!0}else for(;c>l;l++)if((t||l in a)&&a[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},726:(t,e,r)=>{"use strict";var n=r(8311),s=r(1907),i=r(6946),o=r(9298),a=r(575),c=r(6968),u=s([].push),l=function(t){var e=1===t,r=2===t,s=3===t,l=4===t,h=6===t,p=7===t,f=5===t||h;return function(d,g,v,m){for(var y,w,x=o(d),_=i(x),b=a(_),S=n(g,v),k=0,T=m||c,A=e?T(d,b):r||p?T(d,0):void 0;b>k;k++)if((f||k in _)&&(w=S(y=_[k],k,x),t))if(e)A[k]=w;else if(w)switch(t){case 3:return!0;case 5:return y;case 6:return k;case 2:u(A,y)}else switch(t){case 4:return!1;case 7:u(A,y)}return h?-1:s||l?l:A}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},7171:(t,e,r)=>{"use strict";var n=r(8828),s=r(6264),i=r(798),o=s("species");t.exports=function(t){return i>=51||!n((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},7623:(t,e,r)=>{"use strict";var n=r(8828);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},3427:(t,e,r)=>{"use strict";var n=r(1907);t.exports=n([].slice)},4321:(t,e,r)=>{"use strict";var n=r(3427),s=Math.floor,i=function(t,e){var r=t.length;if(r<8)for(var o,a,c=1;c<r;){for(a=c,o=t[c];a&&e(t[a-1],o)>0;)t[a]=t[--a];a!==c++&&(t[a]=o)}else for(var u=s(r/2),l=i(n(t,0,u),e),h=i(n(t,u),e),p=l.length,f=h.length,d=0,g=0;d<p||g<f;)t[d+g]=d<p&&g<f?e(l[d],h[g])<=0?l[d++]:h[g++]:d<p?l[d++]:h[g++];return t};t.exports=i},4010:(t,e,r)=>{"use strict";var n=r(1793),s=r(5468),i=r(6285),o=r(6264)("species"),a=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(s(e)&&(e===a||n(e.prototype))||i(e)&&null===(e=e[o]))&&(e=void 0)),void 0===e?a:e}},6968:(t,e,r)=>{"use strict";var n=r(4010);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},6818:(t,e,r)=>{"use strict";var n=r(6624),s=r(154);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){s(t,"throw",e)}}},2222:t=>{"use strict";t.exports=function(t,e){return 1===e?function(e,r){return e[t](r)}:function(e,r,n){return e[t](r,n)}}},473:(t,e,r)=>{"use strict";var n=r(6264)("iterator"),s=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){s=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!s)return!1}catch(t){return!1}var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},5807:(t,e,r)=>{"use strict";var n=r(1907),s=n({}.toString),i=n("".slice);t.exports=function(t){return i(s(t),8,-1)}},3948:(t,e,r)=>{"use strict";var n=r(2623),s=r(2250),i=r(5807),o=r(6264)("toStringTag"),a=Object,c="Arguments"===i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=a(t),o))?r:c?i(e):"Object"===(n=i(e))&&s(e.callee)?"Arguments":n}},217:(t,e,r)=>{"use strict";var n=r(8075),s=r(9251),i=r(2802),o=r(8311),a=r(9596),c=r(7136),u=r(4823),l=r(183),h=r(9550),p=r(7118),f=r(9447),d=r(1548).fastKey,g=r(4932),v=g.set,m=g.getterFor;t.exports={getConstructor:function(t,e,r,l){var h=t((function(t,s){a(t,p),v(t,{type:e,index:n(null),first:null,last:null,size:0}),f||(t.size=0),c(s)||u(s,t[l],{that:t,AS_ENTRIES:r})})),p=h.prototype,g=m(e),y=function(t,e,r){var n,s,i=g(t),o=w(t,e);return o?o.value=r:(i.last=o={index:s=d(e,!0),key:e,value:r,previous:n=i.last,next:null,removed:!1},i.first||(i.first=o),n&&(n.next=o),f?i.size++:t.size++,"F"!==s&&(i.index[s]=o)),t},w=function(t,e){var r,n=g(t),s=d(e);if("F"!==s)return n.index[s];for(r=n.first;r;r=r.next)if(r.key===e)return r};return i(p,{clear:function(){for(var t=g(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=n(null),f?t.size=0:this.size=0},delete:function(t){var e=this,r=g(e),n=w(e,t);if(n){var s=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=s),s&&(s.previous=i),r.first===n&&(r.first=s),r.last===n&&(r.last=i),f?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=g(this),n=o(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!w(this,t)}}),i(p,r?{get:function(t){var e=w(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),f&&s(p,"size",{configurable:!0,get:function(){return g(this).size}}),h},setStrong:function(t,e,r){var n=e+" Iterator",s=m(e),i=m(n);l(t,e,(function(t,e){v(this,{type:n,target:t,state:s(t),kind:e,last:null})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?h("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=null,h(void 0,!0))}),r?"entries":"values",!r,!0),p(e)}}},7081:(t,e,r)=>{"use strict";var n=r(1091),s=r(5951),i=r(1548),o=r(8828),a=r(1626),c=r(4823),u=r(9596),l=r(2250),h=r(6285),p=r(7136),f=r(4840),d=r(4284).f,g=r(726).forEach,v=r(9447),m=r(4932),y=m.set,w=m.getterFor;t.exports=function(t,e,r){var m,x=-1!==t.indexOf("Map"),_=-1!==t.indexOf("Weak"),b=x?"set":"add",S=s[t],k=S&&S.prototype,T={};if(v&&l(S)&&(_||k.forEach&&!o((function(){(new S).entries().next()})))){var A=(m=e((function(e,r){y(u(e,A),{type:t,collection:new S}),p(r)||c(r,e[b],{that:e,AS_ENTRIES:x})}))).prototype,C=w(t);g(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in k)||_&&"clear"===t||a(A,t,(function(r,n){var s=C(this).collection;if(!e&&_&&!h(r))return"get"===t&&void 0;var i=s[t](0===r?0:r,n);return e?this:i}))})),_||d(A,"size",{configurable:!0,get:function(){return C(this).collection.size}})}else m=r.getConstructor(e,t,x,b),i.enable();return f(m,t,!1,!0),T[t]=m,n({global:!0,forced:!0},T),_||r.setStrong(m,t,x),m}},9595:(t,e,r)=>{"use strict";var n=r(9724),s=r(1042),i=r(3846),o=r(4284);t.exports=function(t,e,r){for(var a=s(e),c=o.f,u=i.f,l=0;l<a.length;l++){var h=a[l];n(t,h)||r&&n(r,h)||c(t,h,u(e,h))}}},5735:(t,e,r)=>{"use strict";var n=r(6264)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},7382:(t,e,r)=>{"use strict";var n=r(8828);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},9550:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},1626:(t,e,r)=>{"use strict";var n=r(9447),s=r(4284),i=r(5817);t.exports=n?function(t,e,r){return s.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},5817:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},5543:(t,e,r)=>{"use strict";var n=r(9447),s=r(4284),i=r(5817);t.exports=function(t,e,r){n?s.f(t,e,i(0,r)):t[e]=r}},3701:(t,e,r)=>{"use strict";var n=r(1907),s=r(8828),i=r(1164).start,o=RangeError,a=isFinite,c=Math.abs,u=Date.prototype,l=u.toISOString,h=n(u.getTime),p=n(u.getUTCDate),f=n(u.getUTCFullYear),d=n(u.getUTCHours),g=n(u.getUTCMilliseconds),v=n(u.getUTCMinutes),m=n(u.getUTCMonth),y=n(u.getUTCSeconds);t.exports=s((function(){return"0385-07-25T07:06:39.999Z"!==l.call(new Date(-50000000000001))}))||!s((function(){l.call(new Date(NaN))}))?function(){if(!a(h(this)))throw new o("Invalid time value");var t=this,e=f(t),r=g(t),n=e<0?"-":e>9999?"+":"";return n+i(c(e),n?6:4,0)+"-"+i(m(t)+1,2,0)+"-"+i(p(t),2,0)+"T"+i(d(t),2,0)+":"+i(v(t),2,0)+":"+i(y(t),2,0)+"."+i(r,3,0)+"Z"}:l},9251:(t,e,r)=>{"use strict";var n=r(4284);t.exports=function(t,e,r){return n.f(t,e,r)}},8055:(t,e,r)=>{"use strict";var n=r(1626);t.exports=function(t,e,r,s){return s&&s.enumerable?t[e]=r:n(t,e,r),t}},2802:(t,e,r)=>{"use strict";var n=r(8055);t.exports=function(t,e,r){for(var s in e)r&&r.unsafe&&t[s]?t[s]=e[s]:n(t,s,e[s],r);return t}},2532:(t,e,r)=>{"use strict";var n=r(5951),s=Object.defineProperty;t.exports=function(t,e){try{s(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},4535:(t,e,r)=>{"use strict";var n=r(4640),s=TypeError;t.exports=function(t,e){if(!delete t[e])throw new s("Cannot delete property "+n(e)+" of "+n(t))}},9447:(t,e,r)=>{"use strict";var n=r(8828);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},9552:(t,e,r)=>{"use strict";var n=r(5951),s=r(6285),i=n.document,o=s(i)&&s(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},8024:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},9287:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},376:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3440:(t,e,r)=>{"use strict";var n=r(6794).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},4328:(t,e,r)=>{"use strict";var n=r(6794);t.exports=/MSIE|Trident/.test(n)},8606:(t,e,r)=>{"use strict";var n=r(6794);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},1829:(t,e,r)=>{"use strict";var n=r(6794);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},7586:(t,e,r)=>{"use strict";var n=r(2832);t.exports="NODE"===n},9291:(t,e,r)=>{"use strict";var n=r(6794);t.exports=/web0s(?!.*chrome)/i.test(n)},6794:(t,e,r)=>{"use strict";var n=r(5951).navigator,s=n&&n.userAgent;t.exports=s?String(s):""},798:(t,e,r)=>{"use strict";var n,s,i=r(5951),o=r(6794),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(s=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!s&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(s=+n[1]),t.exports=s},3786:(t,e,r)=>{"use strict";var n=r(6794).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},2832:(t,e,r)=>{"use strict";var n=r(5951),s=r(6794),i=r(5807),o=function(t){return s.slice(0,t.length)===t};t.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},5762:(t,e,r)=>{"use strict";var n=r(1907),s=Error,i=n("".replace),o=String(new s("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(o);t.exports=function(t,e){if(c&&"string"==typeof t&&!s.prepareStackTrace)for(;e--;)t=i(t,a,"");return t}},5884:(t,e,r)=>{"use strict";var n=r(1626),s=r(5762),i=r(3888),o=Error.captureStackTrace;t.exports=function(t,e,r,a){i&&(o?o(t,e):n(t,"stack",s(r,a)))}},3888:(t,e,r)=>{"use strict";var n=r(8828),s=r(5817);t.exports=!n((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",s(1,7)),7!==t.stack)}))},1091:(t,e,r)=>{"use strict";var n=r(5951),s=r(6024),i=r(2361),o=r(2250),a=r(3846).f,c=r(7463),u=r(2046),l=r(8311),h=r(1626),p=r(9724);r(6128);var f=function(t){var e=function(r,n,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,i)}return s(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var r,s,d,g,v,m,y,w,x,_=t.target,b=t.global,S=t.stat,k=t.proto,T=b?n:S?n[_]:n[_]&&n[_].prototype,A=b?u:u[_]||h(u,_,{})[_],C=A.prototype;for(g in e)s=!(r=c(b?g:_+(S?".":"#")+g,t.forced))&&T&&p(T,g),m=A[g],s&&(y=t.dontCallGetSet?(x=a(T,g))&&x.value:T[g]),v=s&&y?y:e[g],(r||k||typeof m!=typeof v)&&(w=t.bind&&s?l(v,n):t.wrap&&s?f(v):k&&o(v)?i(v):v,(t.sham||v&&v.sham||m&&m.sham)&&h(w,"sham",!0),h(A,g,w),k&&(p(u,d=_+"Prototype")||h(u,d,{}),h(u[d],g,v),t.real&&C&&(r||!C[g])&&h(C,g,v)))}},8828:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},5681:(t,e,r)=>{"use strict";var n=r(8828);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},6024:(t,e,r)=>{"use strict";var n=r(1505),s=Function.prototype,i=s.apply,o=s.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(i):function(){return o.apply(i,arguments)})},8311:(t,e,r)=>{"use strict";var n=r(2361),s=r(2159),i=r(1505),o=n(n.bind);t.exports=function(t,e){return s(t),void 0===e?t:i?o(t,e):function(){return t.apply(e,arguments)}}},1505:(t,e,r)=>{"use strict";var n=r(8828);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},3930:(t,e,r)=>{"use strict";var n=r(1505),s=Function.prototype.call;t.exports=n?s.bind(s):function(){return s.apply(s,arguments)}},6833:(t,e,r)=>{"use strict";var n=r(9447),s=r(9724),i=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=s(i,"name"),c=a&&"something"===function(){}.name,u=a&&(!n||n&&o(i,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},1871:(t,e,r)=>{"use strict";var n=r(1907),s=r(2159);t.exports=function(t,e,r){try{return n(s(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},2361:(t,e,r)=>{"use strict";var n=r(5807),s=r(1907);t.exports=function(t){if("Function"===n(t))return s(t)}},1907:(t,e,r)=>{"use strict";var n=r(1505),s=Function.prototype,i=s.call,o=n&&s.bind.bind(i,i);t.exports=n?o:function(t){return function(){return i.apply(t,arguments)}}},1747:(t,e,r)=>{"use strict";var n=r(5951),s=r(2046);t.exports=function(t,e){var r=s[t+"Prototype"],i=r&&r[e];if(i)return i;var o=n[t],a=o&&o.prototype;return a&&a[e]}},5582:(t,e,r)=>{"use strict";var n=r(2046),s=r(5951),i=r(2250),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(s[t]):n[t]&&n[t][e]||s[t]&&s[t][e]}},3316:t=>{"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},3448:(t,e,r)=>{"use strict";var n=r(3948),s=r(9367),i=r(7136),o=r(3742),a=r(6264)("iterator");t.exports=function(t){if(!i(t))return s(t,a)||s(t,"@@iterator")||o[n(t)]}},300:(t,e,r)=>{"use strict";var n=r(3930),s=r(2159),i=r(6624),o=r(4640),a=r(3448),c=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(s(r))return i(n(r,t));throw new c(o(t)+" is not iterable")}},6656:(t,e,r)=>{"use strict";var n=r(1907),s=r(1793),i=r(2250),o=r(5807),a=r(160),c=n([].push);t.exports=function(t){if(i(t))return t;if(s(t)){for(var e=t.length,r=[],n=0;n<e;n++){var u=t[n];"string"==typeof u?c(r,u):"number"!=typeof u&&"Number"!==o(u)&&"String"!==o(u)||c(r,a(u))}var l=r.length,h=!0;return function(t,e){if(h)return h=!1,e;if(s(this))return e;for(var n=0;n<l;n++)if(r[n]===t)return e}}}},9367:(t,e,r)=>{"use strict";var n=r(2159),s=r(7136);t.exports=function(t,e){var r=t[e];return s(r)?void 0:n(r)}},2332:(t,e,r)=>{"use strict";var n=r(2159),s=r(6624),i=r(3930),o=r(5482),a=r(3316),c="Invalid size",u=RangeError,l=TypeError,h=Math.max,p=function(t,e){this.set=t,this.size=h(e,0),this.has=n(t.has),this.keys=n(t.keys)};p.prototype={getIterator:function(){return a(s(i(this.keys,this.set)))},includes:function(t){return i(this.has,this.set,t)}},t.exports=function(t){s(t);var e=+t.size;if(e!=e)throw new l(c);var r=o(e);if(r<0)throw new u(c);return new p(t,r)}},5951:function(t){"use strict";var e=function(t){return t&&t.Math===Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof global&&global)||e("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9724:(t,e,r)=>{"use strict";var n=r(1907),s=r(9298),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(s(t),e)}},8530:t=>{"use strict";t.exports={}},3904:t=>{"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},2416:(t,e,r)=>{"use strict";var n=r(5582);t.exports=n("document","documentElement")},3648:(t,e,r)=>{"use strict";var n=r(9447),s=r(8828),i=r(9552);t.exports=!n&&!s((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},6946:(t,e,r)=>{"use strict";var n=r(1907),s=r(8828),i=r(5807),o=Object,a=n("".split);t.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?a(t,""):o(t)}:o},2647:(t,e,r)=>{"use strict";var n=r(1907),s=r(2250),i=r(6128),o=n(Function.toString);s(i.inspectSource)||(i.inspectSource=function(t){return o(t)}),t.exports=i.inspectSource},9259:(t,e,r)=>{"use strict";var n=r(6285),s=r(1626);t.exports=function(t,e){n(e)&&"cause"in e&&s(t,"cause",e.cause)}},1548:(t,e,r)=>{"use strict";var n=r(1091),s=r(1907),i=r(8530),o=r(6285),a=r(9724),c=r(4284).f,u=r(4443),l=r(5407),h=r(7005),p=r(6499),f=r(5681),d=!1,g=p("meta"),v=0,m=function(t){c(t,g,{value:{objectID:"O"+v++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},d=!0;var t=u.f,e=s([].splice),r={};r[g]=1,t(r).length&&(u.f=function(r){for(var n=t(r),s=0,i=n.length;s<i;s++)if(n[s]===g){e(n,s,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,g)){if(!h(t))return"F";if(!e)return"E";m(t)}return t[g].objectID},getWeakData:function(t,e){if(!a(t,g)){if(!h(t))return!0;if(!e)return!1;m(t)}return t[g].weakData},onFreeze:function(t){return f&&d&&h(t)&&!a(t,g)&&m(t),t}};i[g]=!0},4932:(t,e,r)=>{"use strict";var n,s,i,o=r(551),a=r(5951),c=r(6285),u=r(1626),l=r(9724),h=r(6128),p=r(2522),f=r(8530),d="Object already initialized",g=a.TypeError,v=a.WeakMap;if(o||h.state){var m=h.state||(h.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,n=function(t,e){if(m.has(t))throw new g(d);return e.facade=t,m.set(t,e),e},s=function(t){return m.get(t)||{}},i=function(t){return m.has(t)}}else{var y=p("state");f[y]=!0,n=function(t,e){if(l(t,y))throw new g(d);return e.facade=t,u(t,y,e),e},s=function(t){return l(t,y)?t[y]:{}},i=function(t){return l(t,y)}}t.exports={set:n,get:s,has:i,enforce:function(t){return i(t)?s(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=s(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return r}}}},7812:(t,e,r)=>{"use strict";var n=r(6264),s=r(3742),i=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(s.Array===t||o[i]===t)}},1793:(t,e,r)=>{"use strict";var n=r(5807);t.exports=Array.isArray||function(t){return"Array"===n(t)}},2250:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},5468:(t,e,r)=>{"use strict";var n=r(1907),s=r(8828),i=r(2250),o=r(3948),a=r(5582),c=r(2647),u=function(){},l=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=n(h.exec),f=!h.test(u),d=function(t){if(!i(t))return!1;try{return l(u,[],t),!0}catch(t){return!1}},g=function(t){if(!i(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,c(t))}catch(t){return!0}};g.sham=!0,t.exports=!l||s((function(){var t;return d(d.call)||!d(Object)||!d((function(){t=!0}))||t}))?g:d},7463:(t,e,r)=>{"use strict";var n=r(8828),s=r(2250),i=/#|\.prototype\./,o=function(t,e){var r=c[a(t)];return r===l||r!==u&&(s(e)?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},7136:t=>{"use strict";t.exports=function(t){return null==t}},6285:(t,e,r)=>{"use strict";var n=r(2250);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},4018:(t,e,r)=>{"use strict";var n=r(6285);t.exports=function(t){return n(t)||null===t}},7376:t=>{"use strict";t.exports=!0},2087:(t,e,r)=>{"use strict";var n=r(6285),s=r(5807),i=r(6264)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"===s(t))}},5594:(t,e,r)=>{"use strict";var n=r(5582),s=r(2250),i=r(8280),o=r(1175),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return s(e)&&i(e.prototype,a(t))}},2190:(t,e,r)=>{"use strict";var n=r(3930);t.exports=function(t,e,r){for(var s,i,o=r?t:t.iterator,a=t.next;!(s=n(a,o)).done;)if(void 0!==(i=e(s.value)))return i}},4823:(t,e,r)=>{"use strict";var n=r(8311),s=r(3930),i=r(6624),o=r(4640),a=r(7812),c=r(575),u=r(8280),l=r(300),h=r(3448),p=r(154),f=TypeError,d=function(t,e){this.stopped=t,this.result=e},g=d.prototype;t.exports=function(t,e,r){var v,m,y,w,x,_,b,S=r&&r.that,k=!(!r||!r.AS_ENTRIES),T=!(!r||!r.IS_RECORD),A=!(!r||!r.IS_ITERATOR),C=!(!r||!r.INTERRUPTED),P=n(e,S),O=function(t){return v&&p(v,"normal",t),new d(!0,t)},j=function(t){return k?(i(t),C?P(t[0],t[1],O):P(t[0],t[1])):C?P(t,O):P(t)};if(T)v=t.iterator;else if(A)v=t;else{if(!(m=h(t)))throw new f(o(t)+" is not iterable");if(a(m)){for(y=0,w=c(t);w>y;y++)if((x=j(t[y]))&&u(g,x))return x;return new d(!1)}v=l(t,m)}for(_=T?t.next:v.next;!(b=s(_,v)).done;){try{x=j(b.value)}catch(t){p(v,"throw",t)}if("object"==typeof x&&x&&u(g,x))return x}return new d(!1)}},154:(t,e,r)=>{"use strict";var n=r(3930),s=r(6624),i=r(9367);t.exports=function(t,e,r){var o,a;s(t);try{if(!(o=i(t,"return"))){if("throw"===e)throw r;return r}o=n(o,t)}catch(t){a=!0,o=t}if("throw"===e)throw r;if(a)throw o;return s(o),r}},7181:(t,e,r)=>{"use strict";var n=r(5116).IteratorPrototype,s=r(8075),i=r(5817),o=r(4840),a=r(3742),c=function(){return this};t.exports=function(t,e,r,u){var l=e+" Iterator";return t.prototype=s(n,{next:i(+!u,r)}),o(t,l,!1,!0),a[l]=c,t}},183:(t,e,r)=>{"use strict";var n=r(1091),s=r(3930),i=r(7376),o=r(6833),a=r(2250),c=r(7181),u=r(5972),l=r(9192),h=r(4840),p=r(1626),f=r(8055),d=r(6264),g=r(3742),v=r(5116),m=o.PROPER,y=o.CONFIGURABLE,w=v.IteratorPrototype,x=v.BUGGY_SAFARI_ITERATORS,_=d("iterator"),b="keys",S="values",k="entries",T=function(){return this};t.exports=function(t,e,r,o,d,v,A){c(r,e,o);var C,P,O,j=function(t){if(t===d&&L)return L;if(!x&&t&&t in U)return U[t];switch(t){case b:case S:case k:return function(){return new r(this,t)}}return function(){return new r(this)}},E=e+" Iterator",R=!1,U=t.prototype,I=U[_]||U["@@iterator"]||d&&U[d],L=!x&&I||j(d),D="Array"===e&&U.entries||I;if(D&&(C=u(D.call(new t)))!==Object.prototype&&C.next&&(i||u(C)===w||(l?l(C,w):a(C[_])||f(C,_,T)),h(C,E,!0,!0),i&&(g[E]=T)),m&&d===S&&I&&I.name!==S&&(!i&&y?p(U,"name",S):(R=!0,L=function(){return s(I,this)})),d)if(P={values:j(S),keys:v?L:j(b),entries:j(k)},A)for(O in P)(x||R||!(O in U))&&f(U,O,P[O]);else n({target:e,proto:!0,forced:x||R},P);return i&&!A||U[_]===L||f(U,_,L,{name:d}),g[e]=L,P}},5116:(t,e,r)=>{"use strict";var n,s,i,o=r(8828),a=r(2250),c=r(6285),u=r(8075),l=r(5972),h=r(8055),p=r(6264),f=r(7376),d=p("iterator"),g=!1;[].keys&&("next"in(i=[].keys())?(s=l(l(i)))!==Object.prototype&&(n=s):g=!0),!c(n)||o((function(){var t={};return n[d].call(t)!==t}))?n={}:f&&(n=u(n)),a(n[d])||h(n,d,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},3742:t=>{"use strict";t.exports={}},575:(t,e,r)=>{"use strict";var n=r(3121);t.exports=function(t){return n(t.length)}},1176:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},2292:(t,e,r)=>{"use strict";var n,s,i,o,a,c=r(5951),u=r(2098),l=r(8311),h=r(9472).set,p=r(9245),f=r(1829),d=r(8606),g=r(9291),v=r(7586),m=c.MutationObserver||c.WebKitMutationObserver,y=c.document,w=c.process,x=c.Promise,_=u("queueMicrotask");if(!_){var b=new p,S=function(){var t,e;for(v&&(t=w.domain)&&t.exit();e=b.get();)try{e()}catch(t){throw b.head&&n(),t}t&&t.enter()};f||v||g||!m||!y?!d&&x&&x.resolve?((o=x.resolve(void 0)).constructor=x,a=l(o.then,o),n=function(){a(S)}):v?n=function(){w.nextTick(S)}:(h=l(h,c),n=function(){h(S)}):(s=!0,i=y.createTextNode(""),new m(S).observe(i,{characterData:!0}),n=function(){i.data=s=!s}),_=function(t){b.head||n(),b.add(t)}}t.exports=_},6254:(t,e,r)=>{"use strict";var n=r(2159),s=TypeError,i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw new s("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},2096:(t,e,r)=>{"use strict";var n=r(160);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},2074:(t,e,r)=>{"use strict";var n=r(2087),s=TypeError;t.exports=function(t){if(n(t))throw new s("The method doesn't accept regular expressions");return t}},9538:(t,e,r)=>{"use strict";var n=r(9447),s=r(1907),i=r(3930),o=r(8828),a=r(2875),c=r(7170),u=r(2574),l=r(9298),h=r(6946),p=Object.assign,f=Object.defineProperty,d=s([].concat);t.exports=!p||o((function(){if(n&&1!==p({b:1},p(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),s="abcdefghijklmnopqrst";return t[r]=7,s.split("").forEach((function(t){e[t]=t})),7!==p({},t)[r]||a(p({},e)).join("")!==s}))?function(t,e){for(var r=l(t),s=arguments.length,o=1,p=c.f,f=u.f;s>o;)for(var g,v=h(arguments[o++]),m=p?d(a(v),p(v)):a(v),y=m.length,w=0;y>w;)g=m[w++],n&&!i(f,v,g)||(r[g]=v[g]);return r}:p},8075:(t,e,r)=>{"use strict";var n,s=r(6624),i=r(2220),o=r(376),a=r(8530),c=r(2416),u=r(9552),l=r(2522),h="prototype",p="script",f=l("IE_PROTO"),d=function(){},g=function(t){return"<"+p+">"+t+"</"+p+">"},v=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;m="undefined"!=typeof document?document.domain&&n?v(n):(e=u("iframe"),r="java"+p+":",e.style.display="none",c.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F):v(n);for(var s=o.length;s--;)delete m[h][o[s]];return m()};a[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(d[h]=s(t),r=new d,d[h]=null,r[f]=t):r=m(),void 0===e?r:i.f(r,e)}},2220:(t,e,r)=>{"use strict";var n=r(9447),s=r(8661),i=r(4284),o=r(6624),a=r(7374),c=r(2875);e.f=n&&!s?Object.defineProperties:function(t,e){o(t);for(var r,n=a(e),s=c(e),u=s.length,l=0;u>l;)i.f(t,r=s[l++],n[r]);return t}},4284:(t,e,r)=>{"use strict";var n=r(9447),s=r(3648),i=r(8661),o=r(6624),a=r(470),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",f="writable";e.f=n?i?function(t,e,r){if(o(t),e=a(e),o(r),"function"==typeof t&&"prototype"===e&&"value"in r&&f in r&&!r[f]){var n=l(t,e);n&&n[f]&&(t[e]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:h in r?r[h]:n[h],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(o(t),e=a(e),o(r),s)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},3846:(t,e,r)=>{"use strict";var n=r(9447),s=r(3930),i=r(2574),o=r(5817),a=r(7374),c=r(470),u=r(9724),l=r(3648),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=a(t),e=c(e),l)try{return h(t,e)}catch(t){}if(u(t,e))return o(!s(i.f,t,e),t[e])}},5407:(t,e,r)=>{"use strict";var n=r(5807),s=r(7374),i=r(4443).f,o=r(3427),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"===n(t)?function(t){try{return i(t)}catch(t){return o(a)}}(t):i(s(t))}},4443:(t,e,r)=>{"use strict";var n=r(3045),s=r(376).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},7170:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},5972:(t,e,r)=>{"use strict";var n=r(9724),s=r(2250),i=r(9298),o=r(2522),a=r(7382),c=o("IE_PROTO"),u=Object,l=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=i(t);if(n(e,c))return e[c];var r=e.constructor;return s(r)&&e instanceof r?r.prototype:e instanceof u?l:null}},7005:(t,e,r)=>{"use strict";var n=r(8828),s=r(6285),i=r(5807),o=r(6375),a=Object.isExtensible,c=n((function(){a(1)}));t.exports=c||o?function(t){return!!s(t)&&((!o||"ArrayBuffer"!==i(t))&&(!a||a(t)))}:a},8280:(t,e,r)=>{"use strict";var n=r(1907);t.exports=n({}.isPrototypeOf)},3045:(t,e,r)=>{"use strict";var n=r(1907),s=r(9724),i=r(7374),o=r(4436).indexOf,a=r(8530),c=n([].push);t.exports=function(t,e){var r,n=i(t),u=0,l=[];for(r in n)!s(a,r)&&s(n,r)&&c(l,r);for(;e.length>u;)s(n,r=e[u++])&&(~o(l,r)||c(l,r));return l}},2875:(t,e,r)=>{"use strict";var n=r(3045),s=r(376);t.exports=Object.keys||function(t){return n(t,s)}},2574:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!r.call({1:2},1);e.f=s?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},9192:(t,e,r)=>{"use strict";var n=r(1871),s=r(6285),i=r(4239),o=r(43);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return i(r),o(n),s(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},4878:(t,e,r)=>{"use strict";var n=r(2623),s=r(3948);t.exports=n?{}.toString:function(){return"[object "+s(this)+"]"}},581:(t,e,r)=>{"use strict";var n=r(3930),s=r(2250),i=r(6285),o=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&s(r=t.toString)&&!i(a=n(r,t)))return a;if(s(r=t.valueOf)&&!i(a=n(r,t)))return a;if("string"!==e&&s(r=t.toString)&&!i(a=n(r,t)))return a;throw new o("Can't convert object to primitive value")}},1042:(t,e,r)=>{"use strict";var n=r(5582),s=r(1907),i=r(4443),o=r(7170),a=r(6624),c=s([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=o.f;return r?c(e,r(t)):e}},2046:t=>{"use strict";t.exports={}},4420:t=>{"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},1759:(t,e,r)=>{"use strict";var n=r(5951),s=r(5463),i=r(2250),o=r(7463),a=r(2647),c=r(6264),u=r(2832),l=r(7376),h=r(798),p=s&&s.prototype,f=c("species"),d=!1,g=i(n.PromiseRejectionEvent),v=o("Promise",(function(){var t=a(s),e=t!==String(s);if(!e&&66===h)return!0;if(l&&(!p.catch||!p.finally))return!0;if(!h||h<51||!/native code/.test(t)){var r=new s((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[f]=n,!(d=r.then((function(){}))instanceof n))return!0}return!(e||"BROWSER"!==u&&"DENO"!==u||g)}));t.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:d}},5463:(t,e,r)=>{"use strict";var n=r(5951);t.exports=n.Promise},3569:(t,e,r)=>{"use strict";var n=r(6624),s=r(6285),i=r(6254);t.exports=function(t,e){if(n(t),s(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},3282:(t,e,r)=>{"use strict";var n=r(5463),s=r(473),i=r(1759).CONSTRUCTOR;t.exports=i||!s((function(t){n.all(t).then(void 0,(function(){}))}))},9245:t=>{"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},4239:(t,e,r)=>{"use strict";var n=r(7136),s=TypeError;t.exports=function(t){if(n(t))throw new s("Can't call method on "+t);return t}},2098:(t,e,r)=>{"use strict";var n=r(5951),s=r(9447),i=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!s)return n[t];var e=i(n,t);return e&&e.value}},485:(t,e,r)=>{"use strict";var n,s=r(5951),i=r(6024),o=r(2250),a=r(2832),c=r(6794),u=r(3427),l=r(4787),h=s.Function,p=/MSIE .\./.test(c)||"BUN"===a&&((n=s.Bun.version.split(".")).length<3||"0"===n[0]&&(n[1]<3||"3"===n[1]&&"0"===n[2]));t.exports=function(t,e){var r=e?2:1;return p?function(n,s){var a=l(arguments.length,1)>r,c=o(n)?n:h(n),p=a?u(arguments,r):[],f=a?function(){i(c,this,p)}:c;return e?t(f,s):t(f)}:t}},6913:(t,e,r)=>{"use strict";var n=r(3881),s=r(1330),i=n.Set,o=n.add;t.exports=function(t){var e=new i;return s(t,(function(t){o(e,t)})),e}},5953:(t,e,r)=>{"use strict";var n=r(2911),s=r(3881),i=r(6913),o=r(5743),a=r(2332),c=r(1330),u=r(2190),l=s.has,h=s.remove;t.exports=function(t){var e=n(this),r=a(t),s=i(e);return o(e)<=r.size?c(e,(function(t){r.includes(t)&&h(s,t)})):u(r.getIterator(),(function(t){l(e,t)&&h(s,t)})),s}},3881:(t,e,r)=>{"use strict";var n=r(5582),s=r(2222),i=n("Set"),o=i.prototype;t.exports={Set:i,add:s("add",1),has:s("has",1),remove:s("delete",1),proto:o}},5331:(t,e,r)=>{"use strict";var n=r(2911),s=r(3881),i=r(5743),o=r(2332),a=r(1330),c=r(2190),u=s.Set,l=s.add,h=s.has;t.exports=function(t){var e=n(this),r=o(t),s=new u;return i(e)>r.size?c(r.getIterator(),(function(t){h(e,t)&&l(s,t)})):a(e,(function(t){r.includes(t)&&l(s,t)})),s}},1732:(t,e,r)=>{"use strict";var n=r(2911),s=r(3881).has,i=r(5743),o=r(2332),a=r(1330),c=r(2190),u=r(154);t.exports=function(t){var e=n(this),r=o(t);if(i(e)<=r.size)return!1!==a(e,(function(t){if(r.includes(t))return!1}),!0);var l=r.getIterator();return!1!==c(l,(function(t){if(s(e,t))return u(l,"normal",!1)}))}},7491:(t,e,r)=>{"use strict";var n=r(2911),s=r(5743),i=r(1330),o=r(2332);t.exports=function(t){var e=n(this),r=o(t);return!(s(e)>r.size)&&!1!==i(e,(function(t){if(!r.includes(t))return!1}),!0)}},4002:(t,e,r)=>{"use strict";var n=r(2911),s=r(3881).has,i=r(5743),o=r(2332),a=r(2190),c=r(154);t.exports=function(t){var e=n(this),r=o(t);if(i(e)<r.size)return!1;var u=r.getIterator();return!1!==a(u,(function(t){if(!s(e,t))return c(u,"normal",!1)}))}},1330:(t,e,r)=>{"use strict";var n=r(2190);t.exports=function(t,e,r){return r?n(t.keys(),e,!0):t.forEach(e)}},3269:t=>{"use strict";t.exports=function(){return!1}},5743:t=>{"use strict";t.exports=function(t){return t.size}},7118:(t,e,r)=>{"use strict";var n=r(5582),s=r(9251),i=r(6264),o=r(9447),a=i("species");t.exports=function(t){var e=n(t);o&&e&&!e[a]&&s(e,a,{configurable:!0,get:function(){return this}})}},3763:(t,e,r)=>{"use strict";var n=r(2911),s=r(3881),i=r(6913),o=r(2332),a=r(2190),c=s.add,u=s.has,l=s.remove;t.exports=function(t){var e=n(this),r=o(t).getIterator(),s=i(e);return a(r,(function(t){u(e,t)?l(s,t):c(s,t)})),s}},4840:(t,e,r)=>{"use strict";var n=r(2623),s=r(4284).f,i=r(1626),o=r(9724),a=r(4878),c=r(6264)("toStringTag");t.exports=function(t,e,r,u){var l=r?t:t&&t.prototype;l&&(o(l,c)||s(l,c,{configurable:!0,value:e}),u&&!n&&i(l,"toString",a))}},1655:(t,e,r)=>{"use strict";var n=r(2911),s=r(3881).add,i=r(6913),o=r(2332),a=r(2190);t.exports=function(t){var e=n(this),r=o(t).getIterator(),c=i(e);return a(r,(function(t){s(c,t)})),c}},2522:(t,e,r)=>{"use strict";var n=r(5816),s=r(6499),i=n("keys");t.exports=function(t){return i[t]||(i[t]=s(t))}},6128:(t,e,r)=>{"use strict";var n=r(7376),s=r(5951),i=r(2532),o="__core-js_shared__",a=t.exports=s[o]||i(o,{});(a.versions||(a.versions=[])).push({version:"3.38.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5816:(t,e,r)=>{"use strict";var n=r(6128);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},8450:(t,e,r)=>{"use strict";var n=r(6624),s=r(2235),i=r(7136),o=r(6264)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||i(r=n(a)[o])?e:s(r)}},1470:(t,e,r)=>{"use strict";var n=r(1907),s=r(5482),i=r(160),o=r(4239),a=n("".charAt),c=n("".charCodeAt),u=n("".slice),l=function(t){return function(e,r){var n,l,h=i(o(e)),p=s(r),f=h.length;return p<0||p>=f?t?"":void 0:(n=c(h,p))<55296||n>56319||p+1===f||(l=c(h,p+1))<56320||l>57343?t?a(h,p):n:t?u(h,p,p+2):l-56320+(n-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},1164:(t,e,r)=>{"use strict";var n=r(1907),s=r(3121),i=r(160),o=r(9314),a=r(4239),c=n(o),u=n("".slice),l=Math.ceil,h=function(t){return function(e,r,n){var o,h,p=i(a(e)),f=s(r),d=p.length,g=void 0===n?" ":i(n);return f<=d||""===g?p:((h=c(g,l((o=f-d)/g.length))).length>o&&(h=u(h,0,o)),t?p+h:h+p)}};t.exports={start:h(!1),end:h(!0)}},9156:(t,e,r)=>{"use strict";var n=r(1907),s=2147483647,i=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",c=RangeError,u=n(o.exec),l=Math.floor,h=String.fromCharCode,p=n("".charCodeAt),f=n([].join),d=n([].push),g=n("".replace),v=n("".split),m=n("".toLowerCase),y=function(t){return t+22+75*(t<26)},w=function(t,e,r){var n=0;for(t=r?l(t/700):t>>1,t+=l(t/e);t>455;)t=l(t/35),n+=36;return l(n+36*t/(t+38))},x=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=p(t,r++);if(s>=55296&&s<=56319&&r<n){var i=p(t,r++);56320==(64512&i)?d(e,((1023&s)<<10)+(1023&i)+65536):(d(e,s),r--)}else d(e,s)}return e}(t);var r,n,i=t.length,o=128,u=0,g=72;for(r=0;r<t.length;r++)(n=t[r])<128&&d(e,h(n));var v=e.length,m=v;for(v&&d(e,"-");m<i;){var x=s;for(r=0;r<t.length;r++)(n=t[r])>=o&&n<x&&(x=n);var _=m+1;if(x-o>l((s-u)/_))throw new c(a);for(u+=(x-o)*_,o=x,r=0;r<t.length;r++){if((n=t[r])<o&&++u>s)throw new c(a);if(n===o){for(var b=u,S=36;;){var k=S<=g?1:S>=g+26?26:S-g;if(b<k)break;var T=b-k,A=36-k;d(e,h(y(k+T%A))),b=l(T/A),S+=36}d(e,h(y(b))),g=w(u,_,m===v),u=0,m++}}u++,o++}return f(e,"")};t.exports=function(t){var e,r,n=[],s=v(g(m(t),o,"."),".");for(e=0;e<s.length;e++)r=s[e],d(n,u(i,r)?"xn--"+x(r):r);return f(n,".")}},9314:(t,e,r)=>{"use strict";var n=r(5482),s=r(160),i=r(4239),o=RangeError;t.exports=function(t){var e=s(i(this)),r="",a=n(t);if(a<0||a===1/0)throw new o("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(r+=e);return r}},5819:(t,e,r)=>{"use strict";var n=r(6833).PROPER,s=r(8828),i=r(6395);t.exports=function(t){return s((function(){return!!i[t]()||"​᠎"!=="​᠎"[t]()||n&&i[t].name!==t}))}},5993:(t,e,r)=>{"use strict";var n=r(1907),s=r(4239),i=r(160),o=r(6395),a=n("".replace),c=RegExp("^["+o+"]+"),u=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(t){return function(e){var r=i(s(e));return 1&t&&(r=a(r,c,"")),2&t&&(r=a(r,u,"$1")),r}};t.exports={start:l(1),end:l(2),trim:l(3)}},9846:(t,e,r)=>{"use strict";var n=r(798),s=r(8828),i=r(5951).String;t.exports=!!Object.getOwnPropertySymbols&&!s((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},3467:(t,e,r)=>{"use strict";var n=r(3930),s=r(5582),i=r(6264),o=r(8055);t.exports=function(){var t=s("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,a=i("toPrimitive");e&&!e[a]&&o(e,a,(function(t){return n(r,this)}),{arity:1})}},2595:(t,e,r)=>{"use strict";var n=r(5582),s=r(1907),i=n("Symbol"),o=i.keyFor,a=s(i.prototype.valueOf);t.exports=i.isRegisteredSymbol||function(t){try{return void 0!==o(a(t))}catch(t){return!1}}},9197:(t,e,r)=>{"use strict";for(var n=r(5816),s=r(5582),i=r(1907),o=r(5594),a=r(6264),c=s("Symbol"),u=c.isWellKnownSymbol,l=s("Object","getOwnPropertyNames"),h=i(c.prototype.valueOf),p=n("wks"),f=0,d=l(c),g=d.length;f<g;f++)try{var v=d[f];o(c[v])&&a(v)}catch(t){}t.exports=function(t){if(u&&u(t))return!0;try{for(var e=h(t),r=0,n=l(p),s=n.length;r<s;r++)if(p[n[r]]==e)return!0}catch(t){}return!1}},4411:(t,e,r)=>{"use strict";var n=r(9846);t.exports=n&&!!Symbol.for&&!!Symbol.keyFor},9472:(t,e,r)=>{"use strict";var n,s,i,o,a=r(5951),c=r(6024),u=r(8311),l=r(2250),h=r(9724),p=r(8828),f=r(2416),d=r(3427),g=r(9552),v=r(4787),m=r(1829),y=r(7586),w=a.setImmediate,x=a.clearImmediate,_=a.process,b=a.Dispatch,S=a.Function,k=a.MessageChannel,T=a.String,A=0,C={},P="onreadystatechange";p((function(){n=a.location}));var O=function(t){if(h(C,t)){var e=C[t];delete C[t],e()}},j=function(t){return function(){O(t)}},E=function(t){O(t.data)},R=function(t){a.postMessage(T(t),n.protocol+"//"+n.host)};w&&x||(w=function(t){v(arguments.length,1);var e=l(t)?t:S(t),r=d(arguments,1);return C[++A]=function(){c(e,void 0,r)},s(A),A},x=function(t){delete C[t]},y?s=function(t){_.nextTick(j(t))}:b&&b.now?s=function(t){b.now(j(t))}:k&&!m?(o=(i=new k).port2,i.port1.onmessage=E,s=u(o.postMessage,o)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!p(R)?(s=R,a.addEventListener("message",E,!1)):s=P in g("script")?function(t){f.appendChild(g("script"))[P]=function(){f.removeChild(this),O(t)}}:function(t){setTimeout(j(t),0)}),t.exports={set:w,clear:x}},4849:(t,e,r)=>{"use strict";var n=r(5482),s=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?s(r+e,0):i(r,e)}},7374:(t,e,r)=>{"use strict";var n=r(6946),s=r(4239);t.exports=function(t){return n(s(t))}},5482:(t,e,r)=>{"use strict";var n=r(1176);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},3121:(t,e,r)=>{"use strict";var n=r(5482),s=Math.min;t.exports=function(t){var e=n(t);return e>0?s(e,9007199254740991):0}},9298:(t,e,r)=>{"use strict";var n=r(4239),s=Object;t.exports=function(t){return s(n(t))}},6028:(t,e,r)=>{"use strict";var n=r(3930),s=r(6285),i=r(5594),o=r(9367),a=r(581),c=r(6264),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!s(t)||i(t))return t;var r,c=o(t,l);if(c){if(void 0===e&&(e="default"),r=n(c,t,e),!s(r)||i(r))return r;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},470:(t,e,r)=>{"use strict";var n=r(6028),s=r(5594);t.exports=function(t){var e=n(t,"string");return s(e)?e:e+""}},2623:(t,e,r)=>{"use strict";var n={};n[r(6264)("toStringTag")]="z",t.exports="[object z]"===String(n)},160:(t,e,r)=>{"use strict";var n=r(3948),s=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return s(t)}},4640:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},6499:(t,e,r)=>{"use strict";var n=r(1907),s=0,i=Math.random(),o=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++s+i,36)}},4791:(t,e,r)=>{"use strict";var n=r(8828),s=r(6264),i=r(9447),o=r(7376),a=s("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),r.delete("a",2),r.delete("b",void 0),o&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(o||!i)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==n||"x"!==new URL("https://x",void 0).host}))},1175:(t,e,r)=>{"use strict";var n=r(9846);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8661:(t,e,r)=>{"use strict";var n=r(9447),s=r(8828);t.exports=n&&s((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4787:t=>{"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},551:(t,e,r)=>{"use strict";var n=r(5951),s=r(2250),i=n.WeakMap;t.exports=s(i)&&/native code/.test(String(i))},366:(t,e,r)=>{"use strict";var n=r(2046),s=r(9724),i=r(560),o=r(4284).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});s(e,t)||o(e,t,{value:i.f(t)})}},560:(t,e,r)=>{"use strict";var n=r(6264);e.f=n},6264:(t,e,r)=>{"use strict";var n=r(5951),s=r(5816),i=r(9724),o=r(6499),a=r(9846),c=r(1175),u=n.Symbol,l=s("wks"),h=c?u.for||u:u&&u.withoutSetter||o;t.exports=function(t){return i(l,t)||(l[t]=a&&i(u,t)?u[t]:h("Symbol."+t)),l[t]}},6395:t=>{"use strict";t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},2048:(t,e,r)=>{"use strict";var n=r(1091),s=r(8280),i=r(5972),o=r(9192),a=r(9595),c=r(8075),u=r(1626),l=r(5817),h=r(9259),p=r(5884),f=r(4823),d=r(2096),g=r(6264)("toStringTag"),v=Error,m=[].push,y=function(t,e){var r,n=s(w,this);o?r=o(new v,n?i(this):w):(r=n?this:c(w),u(r,g,"Error")),void 0!==e&&u(r,"message",d(e)),p(r,y,r.stack,1),arguments.length>2&&h(r,arguments[2]);var a=[];return f(t,m,{that:a}),u(r,"errors",a),r};o?o(y,v):a(y,v,{name:!0});var w=y.prototype=c(v.prototype,{constructor:l(1,y),message:l(1,""),name:l(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:y})},4502:(t,e,r)=>{"use strict";r(2048)},8545:(t,e,r)=>{"use strict";var n=r(1091),s=r(8828),i=r(1793),o=r(6285),a=r(9298),c=r(575),u=r(8024),l=r(5543),h=r(6968),p=r(7171),f=r(6264),d=r(798),g=f("isConcatSpreadable"),v=d>=51||!s((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),m=function(t){if(!o(t))return!1;var e=t[g];return void 0!==e?!!e:i(t)};n({target:"Array",proto:!0,arity:1,forced:!v||!p("concat")},{concat:function(t){var e,r,n,s,i,o=a(this),p=h(o,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(m(i=-1===e?o:arguments[e]))for(s=c(i),u(f+s),r=0;r<s;r++,f++)r in i&&l(p,f,i[r]);else u(f+1),l(p,f++,i);return p.length=f,p}})},9295:(t,e,r)=>{"use strict";var n=r(1091),s=r(726).filter;n({target:"Array",proto:!0,forced:!r(7171)("filter")},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},5650:(t,e,r)=>{"use strict";var n=r(1091),s=r(2914);n({target:"Array",proto:!0,forced:[].forEach!==s},{forEach:s})},9748:(t,e,r)=>{"use strict";var n=r(1091),s=r(4436).includes,i=r(8828),o=r(2156);n({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},2425:(t,e,r)=>{"use strict";r(1091)({target:"Array",stat:!0},{isArray:r(1793)})},9363:(t,e,r)=>{"use strict";var n=r(7374),s=r(2156),i=r(3742),o=r(4932),a=r(4284).f,c=r(183),u=r(9550),l=r(7376),h=r(9447),p="Array Iterator",f=o.set,d=o.getterFor(p);t.exports=c(Array,"Array",(function(t,e){f(this,{type:p,target:n(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,u(void 0,!0);switch(t.kind){case"keys":return u(r,!1);case"values":return u(e[r],!1)}return u([r,e[r]],!1)}),"values");var g=i.Arguments=i.Array;if(s("keys"),s("values"),s("entries"),!l&&h&&"values"!==g.name)try{a(g,"name",{value:"values"})}catch(t){}},521:(t,e,r)=>{"use strict";var n=r(1091),s=r(726).some;n({target:"Array",proto:!0,forced:!r(7623)("some")},{some:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},6737:(t,e,r)=>{"use strict";var n=r(1091),s=r(1907),i=r(2159),o=r(9298),a=r(575),c=r(4535),u=r(160),l=r(8828),h=r(4321),p=r(7623),f=r(3440),d=r(4328),g=r(798),v=r(3786),m=[],y=s(m.sort),w=s(m.push),x=l((function(){m.sort(void 0)})),_=l((function(){m.sort(null)})),b=p("sort"),S=!l((function(){if(g)return g<70;if(!(f&&f>3)){if(d)return!0;if(v)return v<603;var t,e,r,n,s="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)m.push({k:e+n,v:r})}for(m.sort((function(t,e){return e.v-t.v})),n=0;n<m.length;n++)e=m[n].k.charAt(0),s.charAt(s.length-1)!==e&&(s+=e);return"DGBEFHACIJK"!==s}}));n({target:"Array",proto:!0,forced:x||!_||!b||!S},{sort:function(t){void 0!==t&&i(t);var e=o(this);if(S)return void 0===t?y(e):y(e,t);var r,n,s=[],l=a(e);for(n=0;n<l;n++)n in e&&w(s,e[n]);for(h(s,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:u(e)>u(r)?1:-1}}(t)),r=a(s),n=0;n<r;)e[n]=s[n++];for(;n<l;)c(e,n++);return e}})},5362:(t,e,r)=>{"use strict";var n=r(1091),s=r(1907),i=Date,o=s(i.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return o(new i)}})},6648:(t,e,r)=>{"use strict";var n=r(1091),s=r(3930),i=r(9298),o=r(6028),a=r(3701),c=r(5807);n({target:"Date",proto:!0,forced:r(8828)((function(){return null!==new Date(NaN).toJSON()||1!==s(Date.prototype.toJSON,{toISOString:function(){return 1}})}))},{toJSON:function(t){var e=i(this),r=o(e,"number");return"number"!=typeof r||isFinite(r)?"toISOString"in e||"Date"!==c(e)?e.toISOString():s(a,e):null}})},8537:()=>{},9721:(t,e,r)=>{"use strict";var n=r(1091),s=r(5582),i=r(6024),o=r(3930),a=r(1907),c=r(8828),u=r(2250),l=r(5594),h=r(3427),p=r(6656),f=r(9846),d=String,g=s("JSON","stringify"),v=a(/./.exec),m=a("".charAt),y=a("".charCodeAt),w=a("".replace),x=a(1..toString),_=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,k=!f||c((function(){var t=s("Symbol")("stringify detection");return"[null]"!==g([t])||"{}"!==g({a:t})||"{}"!==g(Object(t))})),T=c((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),A=function(t,e){var r=h(arguments),n=p(e);if(u(n)||void 0!==t&&!l(t))return r[1]=function(t,e){if(u(n)&&(e=o(n,this,d(t),e)),!l(e))return e},i(g,null,r)},C=function(t,e,r){var n=m(r,e-1),s=m(r,e+1);return v(b,t)&&!v(S,s)||v(S,t)&&!v(b,n)?"\\u"+x(y(t,0),16):t};g&&n({target:"JSON",stat:!0,arity:3,forced:k||T},{stringify:function(t,e,r){var n=h(arguments),s=i(k?A:g,null,n);return T&&"string"==typeof s?w(s,_,C):s}})},7024:(t,e,r)=>{"use strict";var n=r(5951);r(4840)(n.JSON,"JSON",!0)},8172:()=>{},1340:(t,e,r)=>{"use strict";var n=r(1091),s=r(9538);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},7810:(t,e,r)=>{"use strict";var n=r(1091),s=r(9447),i=r(2220).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!s},{defineProperties:i})},6750:(t,e,r)=>{"use strict";var n=r(1091),s=r(9447),i=r(4284).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!s},{defineProperty:i})},7052:(t,e,r)=>{"use strict";var n=r(1091),s=r(8828),i=r(7374),o=r(3846).f,a=r(9447);n({target:"Object",stat:!0,forced:!a||s((function(){o(1)})),sham:!a},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})},179:(t,e,r)=>{"use strict";var n=r(1091),s=r(9447),i=r(1042),o=r(7374),a=r(3846),c=r(5543);n({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){for(var e,r,n=o(t),s=a.f,u=i(n),l={},h=0;u.length>h;)void 0!==(r=s(n,e=u[h++]))&&c(l,e,r);return l}})},5264:(t,e,r)=>{"use strict";var n=r(1091),s=r(9846),i=r(8828),o=r(7170),a=r(9298);n({target:"Object",stat:!0,forced:!s||i((function(){o.f(1)}))},{getOwnPropertySymbols:function(t){var e=o.f;return e?e(a(t)):[]}})},3589:(t,e,r)=>{"use strict";var n=r(1091),s=r(9298),i=r(2875);n({target:"Object",stat:!0,forced:r(8828)((function(){i(1)}))},{keys:function(t){return i(s(t))}})},3643:()=>{},7450:(t,e,r)=>{"use strict";var n=r(1091),s=r(3930),i=r(2159),o=r(6254),a=r(4420),c=r(4823);n({target:"Promise",stat:!0,forced:r(3282)},{allSettled:function(t){var e=this,r=o.f(e),n=r.resolve,u=r.reject,l=a((function(){var r=i(e.resolve),o=[],a=0,u=1;c(t,(function(t){var i=a++,c=!1;u++,s(r,e,t).then((function(t){c||(c=!0,o[i]={status:"fulfilled",value:t},--u||n(o))}),(function(t){c||(c=!0,o[i]={status:"rejected",reason:t},--u||n(o))}))})),--u||n(o)}));return l.error&&u(l.value),r.promise}})},6630:(t,e,r)=>{"use strict";var n=r(1091),s=r(3930),i=r(2159),o=r(6254),a=r(4420),c=r(4823);n({target:"Promise",stat:!0,forced:r(3282)},{all:function(t){var e=this,r=o.f(e),n=r.resolve,u=r.reject,l=a((function(){var r=i(e.resolve),o=[],a=0,l=1;c(t,(function(t){var i=a++,c=!1;l++,s(r,e,t).then((function(t){c||(c=!0,o[i]=t,--l||n(o))}),u)})),--l||n(o)}));return l.error&&u(l.value),r.promise}})},6415:(t,e,r)=>{"use strict";var n=r(1091),s=r(3930),i=r(2159),o=r(5582),a=r(6254),c=r(4420),u=r(4823),l=r(3282),h="No one promise resolved";n({target:"Promise",stat:!0,forced:l},{any:function(t){var e=this,r=o("AggregateError"),n=a.f(e),l=n.resolve,p=n.reject,f=c((function(){var n=i(e.resolve),o=[],a=0,c=1,f=!1;u(t,(function(t){var i=a++,u=!1;c++,s(n,e,t).then((function(t){u||f||(f=!0,l(t))}),(function(t){u||f||(u=!0,o[i]=t,--c||p(new r(o,h)))}))})),--c||p(new r(o,h))}));return f.error&&p(f.value),n.promise}})},1866:(t,e,r)=>{"use strict";var n=r(1091),s=r(7376),i=r(1759).CONSTRUCTOR,o=r(5463),a=r(5582),c=r(2250),u=r(8055),l=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!s&&c(o)){var h=a("Promise").prototype.catch;l.catch!==h&&u(l,"catch",h,{unsafe:!0})}},3825:(t,e,r)=>{"use strict";var n,s,i,o=r(1091),a=r(7376),c=r(7586),u=r(5951),l=r(3930),h=r(8055),p=r(9192),f=r(4840),d=r(7118),g=r(2159),v=r(2250),m=r(6285),y=r(9596),w=r(8450),x=r(9472).set,_=r(2292),b=r(3904),S=r(4420),k=r(9245),T=r(4932),A=r(5463),C=r(1759),P=r(6254),O="Promise",j=C.CONSTRUCTOR,E=C.REJECTION_EVENT,R=C.SUBCLASSING,U=T.getterFor(O),I=T.set,L=A&&A.prototype,D=A,M=L,F=u.TypeError,N=u.document,B=u.process,q=P.f,W=q,z=!!(N&&N.createEvent&&u.dispatchEvent),H="unhandledrejection",V=function(t){var e;return!(!m(t)||!v(e=t.then))&&e},K=function(t,e){var r,n,s,i=e.value,o=1===e.state,a=o?t.ok:t.fail,c=t.resolve,u=t.reject,h=t.domain;try{a?(o||(2===e.rejection&&Q(e),e.rejection=1),!0===a?r=i:(h&&h.enter(),r=a(i),h&&(h.exit(),s=!0)),r===t.promise?u(new F("Promise-chain cycle")):(n=V(r))?l(n,r,c,u):c(r)):u(i)}catch(t){h&&!s&&h.exit(),u(t)}},G=function(t,e){t.notified||(t.notified=!0,_((function(){for(var r,n=t.reactions;r=n.get();)K(r,t);t.notified=!1,e&&!t.rejection&&$(t)})))},J=function(t,e,r){var n,s;z?((n=N.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),u.dispatchEvent(n)):n={promise:e,reason:r},!E&&(s=u["on"+t])?s(n):t===H&&b("Unhandled promise rejection",r)},$=function(t){l(x,u,(function(){var e,r=t.facade,n=t.value;if(X(t)&&(e=S((function(){c?B.emit("unhandledRejection",n,r):J(H,r,n)})),t.rejection=c||X(t)?2:1,e.error))throw e.value}))},X=function(t){return 1!==t.rejection&&!t.parent},Q=function(t){l(x,u,(function(){var e=t.facade;c?B.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)}))},Y=function(t,e,r){return function(n){t(e,n,r)}},Z=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,G(t,!0))},tt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new F("Promise can't be resolved itself");var n=V(e);n?_((function(){var r={done:!1};try{l(n,e,Y(tt,r,t),Y(Z,r,t))}catch(e){Z(r,e,t)}})):(t.value=e,t.state=1,G(t,!1))}catch(e){Z({done:!1},e,t)}}};if(j&&(M=(D=function(t){y(this,M),g(t),l(n,this);var e=U(this);try{t(Y(tt,e),Y(Z,e))}catch(t){Z(e,t)}}).prototype,(n=function(t){I(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:null})}).prototype=h(M,"then",(function(t,e){var r=U(this),n=q(w(this,D));return r.parent=!0,n.ok=!v(t)||t,n.fail=v(e)&&e,n.domain=c?B.domain:void 0,0===r.state?r.reactions.add(n):_((function(){K(n,r)})),n.promise})),s=function(){var t=new n,e=U(t);this.promise=t,this.resolve=Y(tt,e),this.reject=Y(Z,e)},P.f=q=function(t){return t===D||undefined===t?new s(t):W(t)},!a&&v(A)&&L!==Object.prototype)){i=L.then,R||h(L,"then",(function(t,e){var r=this;return new D((function(t,e){l(i,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete L.constructor}catch(t){}p&&p(L,M)}o({global:!0,constructor:!0,wrap:!0,forced:j},{Promise:D}),f(D,O,!1,!0),d(O)},7714:(t,e,r)=>{"use strict";var n=r(1091),s=r(7376),i=r(5463),o=r(8828),a=r(5582),c=r(2250),u=r(8450),l=r(3569),h=r(8055),p=i&&i.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!i&&o((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,a("Promise")),r=c(t);return this.then(r?function(r){return l(e,t()).then((function(){return r}))}:t,r?function(r){return l(e,t()).then((function(){throw r}))}:t)}}),!s&&c(i)){var f=a("Promise").prototype.finally;p.finally!==f&&h(p,"finally",f,{unsafe:!0})}},5931:(t,e,r)=>{"use strict";r(3825),r(6630),r(1866),r(2736),r(7286),r(6761)},2736:(t,e,r)=>{"use strict";var n=r(1091),s=r(3930),i=r(2159),o=r(6254),a=r(4420),c=r(4823);n({target:"Promise",stat:!0,forced:r(3282)},{race:function(t){var e=this,r=o.f(e),n=r.reject,u=a((function(){var o=i(e.resolve);c(t,(function(t){s(o,e,t).then(r.resolve,n)}))}));return u.error&&n(u.value),r.promise}})},7286:(t,e,r)=>{"use strict";var n=r(1091),s=r(6254);n({target:"Promise",stat:!0,forced:r(1759).CONSTRUCTOR},{reject:function(t){var e=s.f(this);return(0,e.reject)(t),e.promise}})},6761:(t,e,r)=>{"use strict";var n=r(1091),s=r(5582),i=r(7376),o=r(5463),a=r(1759).CONSTRUCTOR,c=r(3569),u=s("Promise"),l=i&&!a;n({target:"Promise",stat:!0,forced:i||a},{resolve:function(t){return c(l&&this===u?o:this,t)}})},5823:(t,e,r)=>{"use strict";var n=r(1091),s=r(6254);n({target:"Promise",stat:!0},{withResolvers:function(){var t=s.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})},5205:()=>{},16:(t,e,r)=>{"use strict";r(7081)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(217))},6951:(t,e,r)=>{"use strict";var n=r(1091),s=r(5953);n({target:"Set",proto:!0,real:!0,forced:!r(3269)("difference")},{difference:s})},5905:(t,e,r)=>{"use strict";var n=r(1091),s=r(8828),i=r(5331);n({target:"Set",proto:!0,real:!0,forced:!r(3269)("intersection")||s((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:i})},1852:(t,e,r)=>{"use strict";var n=r(1091),s=r(1732);n({target:"Set",proto:!0,real:!0,forced:!r(3269)("isDisjointFrom")},{isDisjointFrom:s})},7809:(t,e,r)=>{"use strict";var n=r(1091),s=r(7491);n({target:"Set",proto:!0,real:!0,forced:!r(3269)("isSubsetOf")},{isSubsetOf:s})},106:(t,e,r)=>{"use strict";var n=r(1091),s=r(4002);n({target:"Set",proto:!0,real:!0,forced:!r(3269)("isSupersetOf")},{isSupersetOf:s})},1542:(t,e,r)=>{"use strict";r(16)},2657:(t,e,r)=>{"use strict";var n=r(1091),s=r(3763);n({target:"Set",proto:!0,real:!0,forced:!r(3269)("symmetricDifference")},{symmetricDifference:s})},3709:(t,e,r)=>{"use strict";var n=r(1091),s=r(1655);n({target:"Set",proto:!0,real:!0,forced:!r(3269)("union")},{union:s})},1074:(t,e,r)=>{"use strict";var n=r(1091),s=r(1907),i=r(4849),o=RangeError,a=String.fromCharCode,c=String.fromCodePoint,u=s([].join);n({target:"String",stat:!0,arity:1,forced:!!c&&1!==c.length},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,s=0;n>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw new o(e+" is not a valid code point");r[s]=e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320)}return u(r,"")}})},9770:(t,e,r)=>{"use strict";var n=r(1091),s=r(1907),i=r(2074),o=r(4239),a=r(160),c=r(5735),u=s("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~u(a(o(this)),a(i(t)),arguments.length>1?arguments[1]:void 0)}})},7057:(t,e,r)=>{"use strict";var n=r(1470).charAt,s=r(160),i=r(4932),o=r(183),a=r(9550),c="String Iterator",u=i.set,l=i.getterFor(c);o(String,"String",(function(t){u(this,{type:c,string:s(t),index:0})}),(function(){var t,e=l(this),r=e.string,s=e.index;return s>=r.length?a(void 0,!0):(t=n(r,s),e.index+=t.length,a(t,!1))}))},727:(t,e,r)=>{"use strict";var n=r(1091),s=r(5993);n({target:"String",proto:!0,forced:r(5819)("trim")},{trim:function(){return s(this)}})},3997:(t,e,r)=>{"use strict";r(366)("asyncIterator")},3674:(t,e,r)=>{"use strict";var n=r(1091),s=r(5951),i=r(3930),o=r(1907),a=r(7376),c=r(9447),u=r(9846),l=r(8828),h=r(9724),p=r(8280),f=r(6624),d=r(7374),g=r(470),v=r(160),m=r(5817),y=r(8075),w=r(2875),x=r(4443),_=r(5407),b=r(7170),S=r(3846),k=r(4284),T=r(2220),A=r(2574),C=r(8055),P=r(9251),O=r(5816),j=r(2522),E=r(8530),R=r(6499),U=r(6264),I=r(560),L=r(366),D=r(3467),M=r(4840),F=r(4932),N=r(726).forEach,B=j("hidden"),q="Symbol",W="prototype",z=F.set,H=F.getterFor(q),V=Object[W],K=s.Symbol,G=K&&K[W],J=s.RangeError,$=s.TypeError,X=s.QObject,Q=S.f,Y=k.f,Z=_.f,tt=A.f,et=o([].push),rt=O("symbols"),nt=O("op-symbols"),st=O("wks"),it=!X||!X[W]||!X[W].findChild,ot=function(t,e,r){var n=Q(V,e);n&&delete V[e],Y(t,e,r),n&&t!==V&&Y(V,e,n)},at=c&&l((function(){return 7!==y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?ot:Y,ct=function(t,e){var r=rt[t]=y(G);return z(r,{type:q,tag:t,description:e}),c||(r.description=e),r},ut=function(t,e,r){t===V&&ut(nt,e,r),f(t);var n=g(e);return f(r),h(rt,n)?(r.enumerable?(h(t,B)&&t[B][n]&&(t[B][n]=!1),r=y(r,{enumerable:m(0,!1)})):(h(t,B)||Y(t,B,m(1,y(null))),t[B][n]=!0),at(t,n,r)):Y(t,n,r)},lt=function(t,e){f(t);var r=d(e),n=w(r).concat(dt(r));return N(n,(function(e){c&&!i(ht,r,e)||ut(t,e,r[e])})),t},ht=function(t){var e=g(t),r=i(tt,this,e);return!(this===V&&h(rt,e)&&!h(nt,e))&&(!(r||!h(this,e)||!h(rt,e)||h(this,B)&&this[B][e])||r)},pt=function(t,e){var r=d(t),n=g(e);if(r!==V||!h(rt,n)||h(nt,n)){var s=Q(r,n);return!s||!h(rt,n)||h(r,B)&&r[B][n]||(s.enumerable=!0),s}},ft=function(t){var e=Z(d(t)),r=[];return N(e,(function(t){h(rt,t)||h(E,t)||et(r,t)})),r},dt=function(t){var e=t===V,r=Z(e?nt:d(t)),n=[];return N(r,(function(t){!h(rt,t)||e&&!h(V,t)||et(n,rt[t])})),n};u||(C(G=(K=function(){if(p(G,this))throw new $("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,e=R(t),r=function(t){var n=void 0===this?s:this;n===V&&i(r,nt,t),h(n,B)&&h(n[B],e)&&(n[B][e]=!1);var o=m(1,t);try{at(n,e,o)}catch(t){if(!(t instanceof J))throw t;ot(n,e,o)}};return c&&it&&at(V,e,{configurable:!0,set:r}),ct(e,t)})[W],"toString",(function(){return H(this).tag})),C(K,"withoutSetter",(function(t){return ct(R(t),t)})),A.f=ht,k.f=ut,T.f=lt,S.f=pt,x.f=_.f=ft,b.f=dt,I.f=function(t){return ct(U(t),t)},c&&(P(G,"description",{configurable:!0,get:function(){return H(this).description}}),a||C(V,"propertyIsEnumerable",ht,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:K}),N(w(st),(function(t){L(t)})),n({target:q,stat:!0,forced:!u},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?y(t):lt(y(t),e)},defineProperty:ut,defineProperties:lt,getOwnPropertyDescriptor:pt}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ft}),D(),M(K,q),E[B]=!0},5084:()=>{},3313:(t,e,r)=>{"use strict";var n=r(1091),s=r(5582),i=r(9724),o=r(160),a=r(5816),c=r(4411),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=o(t);if(i(u,e))return u[e];var r=s("Symbol")(e);return u[e]=r,l[r]=e,r}})},2596:(t,e,r)=>{"use strict";r(366)("hasInstance")},5721:(t,e,r)=>{"use strict";r(366)("isConcatSpreadable")},4954:(t,e,r)=>{"use strict";r(366)("iterator")},4452:(t,e,r)=>{"use strict";r(3674),r(3313),r(751),r(9721),r(5264)},751:(t,e,r)=>{"use strict";var n=r(1091),s=r(9724),i=r(5594),o=r(4640),a=r(5816),c=r(4411),u=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!i(t))throw new TypeError(o(t)+" is not a symbol");if(s(u,t))return u[t]}})},3377:(t,e,r)=>{"use strict";r(366)("matchAll")},4123:(t,e,r)=>{"use strict";r(366)("match")},2230:(t,e,r)=>{"use strict";r(366)("replace")},5344:(t,e,r)=>{"use strict";r(366)("search")},1660:(t,e,r)=>{"use strict";r(366)("species")},4610:(t,e,r)=>{"use strict";r(366)("split")},3669:(t,e,r)=>{"use strict";var n=r(366),s=r(3467);n("toPrimitive"),s()},4810:(t,e,r)=>{"use strict";var n=r(5582),s=r(366),i=r(4840);s("toStringTag"),i(n("Symbol"),"Symbol")},3325:(t,e,r)=>{"use strict";r(366)("unscopables")},768:(t,e,r)=>{"use strict";var n=r(6264),s=r(4284).f,i=n("metadata"),o=Function.prototype;void 0===o[i]&&s(o,i,{value:null})},8549:(t,e,r)=>{"use strict";r(366)("asyncDispose")},1697:(t,e,r)=>{"use strict";r(366)("customMatcher")},7152:(t,e,r)=>{"use strict";r(366)("dispose")},3939:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0},{isRegisteredSymbol:r(2595)})},3422:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:r(2595)})},1785:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:r(9197)})},36:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:r(9197)})},8703:(t,e,r)=>{"use strict";r(366)("matcher")},6878:(t,e,r)=>{"use strict";r(366)("metadataKey")},1372:(t,e,r)=>{"use strict";r(366)("metadata")},4664:(t,e,r)=>{"use strict";r(366)("observable")},9671:(t,e,r)=>{"use strict";r(366)("patternMatch")},359:(t,e,r)=>{"use strict";r(366)("replaceAll")},3871:(t,e,r)=>{"use strict";var n=r(1091),s=r(5951),i=r(9472).clear;n({global:!0,bind:!0,enumerable:!0,forced:s.clearImmediate!==i},{clearImmediate:i})},237:()=>{},2560:(t,e,r)=>{"use strict";r(9363);var n=r(9287),s=r(5951),i=r(4840),o=r(3742);for(var a in n)i(s[a],a),o[a]=o.Array},4351:(t,e,r)=>{"use strict";r(3871),r(2910)},2910:(t,e,r)=>{"use strict";var n=r(1091),s=r(5951),i=r(9472).set,o=r(485),a=s.setImmediate?o(i,!1):i;n({global:!0,bind:!0,enumerable:!0,forced:s.setImmediate!==a},{setImmediate:a})},1978:(t,e,r)=>{"use strict";var n=r(1091),s=r(5951),i=r(485)(s.setInterval,!0);n({global:!0,bind:!0,forced:s.setInterval!==i},{setInterval:i})},6496:(t,e,r)=>{"use strict";var n=r(1091),s=r(5951),i=r(485)(s.setTimeout,!0);n({global:!0,bind:!0,forced:s.setTimeout!==i},{setTimeout:i})},3342:(t,e,r)=>{"use strict";r(1978),r(6496)},7105:(t,e,r)=>{"use strict";r(9363),r(1074);var n=r(1091),s=r(5951),i=r(2098),o=r(5582),a=r(3930),c=r(1907),u=r(9447),l=r(4791),h=r(8055),p=r(9251),f=r(2802),d=r(4840),g=r(7181),v=r(4932),m=r(9596),y=r(2250),w=r(9724),x=r(8311),_=r(3948),b=r(6624),S=r(6285),k=r(160),T=r(8075),A=r(5817),C=r(300),P=r(3448),O=r(9550),j=r(4787),E=r(6264),R=r(4321),U=E("iterator"),I="URLSearchParams",L=I+"Iterator",D=v.set,M=v.getterFor(I),F=v.getterFor(L),N=i("fetch"),B=i("Request"),q=i("Headers"),W=B&&B.prototype,z=q&&q.prototype,H=s.TypeError,V=s.encodeURIComponent,K=String.fromCharCode,G=o("String","fromCodePoint"),J=parseInt,$=c("".charAt),X=c([].join),Q=c([].push),Y=c("".replace),Z=c([].shift),tt=c([].splice),et=c("".split),rt=c("".slice),nt=c(/./.exec),st=/\+/g,it=/^[0-9a-f]+$/i,ot=function(t,e){var r=rt(t,e,e+2);return nt(it,r)?J(r,16):NaN},at=function(t){for(var e=0,r=128;r>0&&t&r;r>>=1)e++;return e},ct=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(31&t[0])<<6|63&t[1];break;case 3:e=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:e=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return e>1114111?null:e},ut=function(t){for(var e=(t=Y(t,st," ")).length,r="",n=0;n<e;){var s=$(t,n);if("%"===s){if("%"===$(t,n+1)||n+3>e){r+="%",n++;continue}var i=ot(t,n+1);if(i!=i){r+=s,n++;continue}n+=2;var o=at(i);if(0===o)s=K(i);else{if(1===o||o>4){r+="�",n++;continue}for(var a=[i],c=1;c<o&&!(++n+3>e||"%"!==$(t,n));){var u=ot(t,n+1);if(u!=u){n+=3;break}if(u>191||u<128)break;Q(a,u),n+=2,c++}if(a.length!==o){r+="�";continue}var l=ct(a);null===l?r+="�":s=G(l)}}r+=s,n++}return r},lt=/[!'()~]|%20/g,ht={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},pt=function(t){return ht[t]},ft=function(t){return Y(V(t),lt,pt)},dt=g((function(t,e){D(this,{type:L,target:M(t).entries,index:0,kind:e})}),I,(function(){var t=F(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,O(void 0,!0);var n=e[r];switch(t.kind){case"keys":return O(n.key,!1);case"values":return O(n.value,!1)}return O([n.key,n.value],!1)}),!0),gt=function(t){this.entries=[],this.url=null,void 0!==t&&(S(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===$(t,0)?rt(t,1):t:k(t)))};gt.prototype={type:I,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,s,i,o,c,u=this.entries,l=P(t);if(l)for(r=(e=C(t,l)).next;!(n=a(r,e)).done;){if(i=(s=C(b(n.value))).next,(o=a(i,s)).done||(c=a(i,s)).done||!a(i,s).done)throw new H("Expected sequence with length 2");Q(u,{key:k(o.value),value:k(c.value)})}else for(var h in t)w(t,h)&&Q(u,{key:h,value:k(t[h])})},parseQuery:function(t){if(t)for(var e,r,n=this.entries,s=et(t,"&"),i=0;i<s.length;)(e=s[i++]).length&&(r=et(e,"="),Q(n,{key:ut(Z(r)),value:ut(X(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],Q(r,ft(t.key)+"="+ft(t.value));return X(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var vt=function(){m(this,mt);var t=D(this,new gt(arguments.length>0?arguments[0]:void 0));u||(this.size=t.entries.length)},mt=vt.prototype;if(f(mt,{append:function(t,e){var r=M(this);j(arguments.length,2),Q(r.entries,{key:k(t),value:k(e)}),u||this.length++,r.updateURL()},delete:function(t){for(var e=M(this),r=j(arguments.length,1),n=e.entries,s=k(t),i=r<2?void 0:arguments[1],o=void 0===i?i:k(i),a=0;a<n.length;){var c=n[a];if(c.key!==s||void 0!==o&&c.value!==o)a++;else if(tt(n,a,1),void 0!==o)break}u||(this.size=n.length),e.updateURL()},get:function(t){var e=M(this).entries;j(arguments.length,1);for(var r=k(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){var e=M(this).entries;j(arguments.length,1);for(var r=k(t),n=[],s=0;s<e.length;s++)e[s].key===r&&Q(n,e[s].value);return n},has:function(t){for(var e=M(this).entries,r=j(arguments.length,1),n=k(t),s=r<2?void 0:arguments[1],i=void 0===s?s:k(s),o=0;o<e.length;){var a=e[o++];if(a.key===n&&(void 0===i||a.value===i))return!0}return!1},set:function(t,e){var r=M(this);j(arguments.length,1);for(var n,s=r.entries,i=!1,o=k(t),a=k(e),c=0;c<s.length;c++)(n=s[c]).key===o&&(i?tt(s,c--,1):(i=!0,n.value=a));i||Q(s,{key:o,value:a}),u||(this.size=s.length),r.updateURL()},sort:function(){var t=M(this);R(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=M(this).entries,n=x(t,arguments.length>1?arguments[1]:void 0),s=0;s<r.length;)n((e=r[s++]).value,e.key,this)},keys:function(){return new dt(this,"keys")},values:function(){return new dt(this,"values")},entries:function(){return new dt(this,"entries")}},{enumerable:!0}),h(mt,U,mt.entries,{name:"entries"}),h(mt,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),u&&p(mt,"size",{get:function(){return M(this).entries.length},configurable:!0,enumerable:!0}),d(vt,I),n({global:!0,constructor:!0,forced:!l},{URLSearchParams:vt}),!l&&y(q)){var yt=c(z.has),wt=c(z.set),xt=function(t){if(S(t)){var e,r=t.body;if(_(r)===I)return e=t.headers?new q(t.headers):new q,yt(e,"content-type")||wt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(t,{body:A(0,k(r)),headers:A(0,e)})}return t};if(y(N)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return N(t,arguments.length>1?xt(arguments[1]):{})}}),y(B)){var _t=function(t){return m(this,W),new B(t,arguments.length>1?xt(arguments[1]):{})};W.constructor=_t,_t.prototype=W,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:_t})}}t.exports={URLSearchParams:vt,getState:M}},5042:()=>{},7649:()=>{},6299:(t,e,r)=>{"use strict";r(7105)},3604:()=>{},8669:(t,e,r)=>{"use strict";var n=r(1091),s=r(5582),i=r(8828),o=r(4787),a=r(160),c=r(4791),u=s("URL"),l=c&&i((function(){u.canParse()})),h=i((function(){return 1!==u.canParse.length}));n({target:"URL",stat:!0,forced:!l||h},{canParse:function(t){var e=o(arguments.length,1),r=a(t),n=e<2||void 0===arguments[1]?void 0:a(arguments[1]);try{return!!new u(r,n)}catch(t){return!1}}})},6909:(t,e,r)=>{"use strict";r(7057);var n,s=r(1091),i=r(9447),o=r(4791),a=r(5951),c=r(8311),u=r(1907),l=r(8055),h=r(9251),p=r(9596),f=r(9724),d=r(9538),g=r(1229),v=r(3427),m=r(1470).codeAt,y=r(9156),w=r(160),x=r(4840),_=r(4787),b=r(7105),S=r(4932),k=S.set,T=S.getterFor("URL"),A=b.URLSearchParams,C=b.getState,P=a.URL,O=a.TypeError,j=a.parseInt,E=Math.floor,R=Math.pow,U=u("".charAt),I=u(/./.exec),L=u([].join),D=u(1..toString),M=u([].pop),F=u([].push),N=u("".replace),B=u([].shift),q=u("".split),W=u("".slice),z=u("".toLowerCase),H=u([].unshift),V="Invalid scheme",K="Invalid host",G="Invalid port",J=/[a-z]/i,$=/[\d+-.a-z]/i,X=/\d/,Q=/^0x/i,Y=/^[0-7]+$/,Z=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rt=/[\0\t\n\r #/:<>?@[\\\]^|]/,nt=/^[\u0000-\u0020]+/,st=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,it=/[\t\n\r]/g,ot=function(t){var e,r,n,s;if("number"==typeof t){for(e=[],r=0;r<4;r++)H(e,t%256),t=E(t/256);return L(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,s=0,i=0;i<8;i++)0!==t[i]?(s>r&&(e=n,r=s),n=null,s=0):(null===n&&(n=i),++s);return s>r?n:e}(t),r=0;r<8;r++)s&&0===t[r]||(s&&(s=!1),n===r?(e+=r?":":"::",s=!0):(e+=D(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},at={},ct=d({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),ut=d({},ct,{"#":1,"?":1,"{":1,"}":1}),lt=d({},ut,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ht=function(t,e){var r=m(t,0);return r>32&&r<127&&!f(e,t)?t:encodeURIComponent(t)},pt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ft=function(t,e){var r;return 2===t.length&&I(J,U(t,0))&&(":"===(r=U(t,1))||!e&&"|"===r)},dt=function(t){var e;return t.length>1&&ft(W(t,0,2))&&(2===t.length||"/"===(e=U(t,2))||"\\"===e||"?"===e||"#"===e)},gt=function(t){return"."===t||"%2e"===z(t)},vt={},mt={},yt={},wt={},xt={},_t={},bt={},St={},kt={},Tt={},At={},Ct={},Pt={},Ot={},jt={},Et={},Rt={},Ut={},It={},Lt={},Dt={},Mt=function(t,e,r){var n,s,i,o=w(t);if(e){if(s=this.parse(o))throw new O(s);this.searchParams=null}else{if(void 0!==r&&(n=new Mt(r,!0)),s=this.parse(o,null,n))throw new O(s);(i=C(new A)).bindURL(this),this.searchParams=i}};Mt.prototype={type:"URL",parse:function(t,e,r){var s,i,o,a,c,u=this,l=e||vt,h=0,p="",d=!1,m=!1,y=!1;for(t=w(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=N(t,nt,""),t=N(t,st,"$1")),t=N(t,it,""),s=g(t);h<=s.length;){switch(i=s[h],l){case vt:if(!i||!I(J,i)){if(e)return V;l=yt;continue}p+=z(i),l=mt;break;case mt:if(i&&(I($,i)||"+"===i||"-"===i||"."===i))p+=z(i);else{if(":"!==i){if(e)return V;p="",l=yt,h=0;continue}if(e&&(u.isSpecial()!==f(pt,p)||"file"===p&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=p,e)return void(u.isSpecial()&&pt[u.scheme]===u.port&&(u.port=null));p="","file"===u.scheme?l=Ot:u.isSpecial()&&r&&r.scheme===u.scheme?l=wt:u.isSpecial()?l=St:"/"===s[h+1]?(l=xt,h++):(u.cannotBeABaseURL=!0,F(u.path,""),l=It)}break;case yt:if(!r||r.cannotBeABaseURL&&"#"!==i)return V;if(r.cannotBeABaseURL&&"#"===i){u.scheme=r.scheme,u.path=v(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,l=Dt;break}l="file"===r.scheme?Ot:_t;continue;case wt:if("/"!==i||"/"!==s[h+1]){l=_t;continue}l=kt,h++;break;case xt:if("/"===i){l=Tt;break}l=Ut;continue;case _t:if(u.scheme=r.scheme,i===n)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query=r.query;else if("/"===i||"\\"===i&&u.isSpecial())l=bt;else if("?"===i)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query="",l=Lt;else{if("#"!==i){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.path.length--,l=Ut;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query=r.query,u.fragment="",l=Dt}break;case bt:if(!u.isSpecial()||"/"!==i&&"\\"!==i){if("/"!==i){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,l=Ut;continue}l=Tt}else l=kt;break;case St:if(l=kt,"/"!==i||"/"!==U(p,h+1))continue;h++;break;case kt:if("/"!==i&&"\\"!==i){l=Tt;continue}break;case Tt:if("@"===i){d&&(p="%40"+p),d=!0,o=g(p);for(var x=0;x<o.length;x++){var _=o[x];if(":"!==_||y){var b=ht(_,lt);y?u.password+=b:u.username+=b}else y=!0}p=""}else if(i===n||"/"===i||"?"===i||"#"===i||"\\"===i&&u.isSpecial()){if(d&&""===p)return"Invalid authority";h-=g(p).length+1,p="",l=At}else p+=i;break;case At:case Ct:if(e&&"file"===u.scheme){l=Et;continue}if(":"!==i||m){if(i===n||"/"===i||"?"===i||"#"===i||"\\"===i&&u.isSpecial()){if(u.isSpecial()&&""===p)return K;if(e&&""===p&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(p))return a;if(p="",l=Rt,e)return;continue}"["===i?m=!0:"]"===i&&(m=!1),p+=i}else{if(""===p)return K;if(a=u.parseHost(p))return a;if(p="",l=Pt,e===Ct)return}break;case Pt:if(!I(X,i)){if(i===n||"/"===i||"?"===i||"#"===i||"\\"===i&&u.isSpecial()||e){if(""!==p){var S=j(p,10);if(S>65535)return G;u.port=u.isSpecial()&&S===pt[u.scheme]?null:S,p=""}if(e)return;l=Rt;continue}return G}p+=i;break;case Ot:if(u.scheme="file","/"===i||"\\"===i)l=jt;else{if(!r||"file"!==r.scheme){l=Ut;continue}switch(i){case n:u.host=r.host,u.path=v(r.path),u.query=r.query;break;case"?":u.host=r.host,u.path=v(r.path),u.query="",l=Lt;break;case"#":u.host=r.host,u.path=v(r.path),u.query=r.query,u.fragment="",l=Dt;break;default:dt(L(v(s,h),""))||(u.host=r.host,u.path=v(r.path),u.shortenPath()),l=Ut;continue}}break;case jt:if("/"===i||"\\"===i){l=Et;break}r&&"file"===r.scheme&&!dt(L(v(s,h),""))&&(ft(r.path[0],!0)?F(u.path,r.path[0]):u.host=r.host),l=Ut;continue;case Et:if(i===n||"/"===i||"\\"===i||"?"===i||"#"===i){if(!e&&ft(p))l=Ut;else if(""===p){if(u.host="",e)return;l=Rt}else{if(a=u.parseHost(p))return a;if("localhost"===u.host&&(u.host=""),e)return;p="",l=Rt}continue}p+=i;break;case Rt:if(u.isSpecial()){if(l=Ut,"/"!==i&&"\\"!==i)continue}else if(e||"?"!==i)if(e||"#"!==i){if(i!==n&&(l=Ut,"/"!==i))continue}else u.fragment="",l=Dt;else u.query="",l=Lt;break;case Ut:if(i===n||"/"===i||"\\"===i&&u.isSpecial()||!e&&("?"===i||"#"===i)){if(".."===(c=z(c=p))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"===i||"\\"===i&&u.isSpecial()||F(u.path,"")):gt(p)?"/"===i||"\\"===i&&u.isSpecial()||F(u.path,""):("file"===u.scheme&&!u.path.length&&ft(p)&&(u.host&&(u.host=""),p=U(p,0)+":"),F(u.path,p)),p="","file"===u.scheme&&(i===n||"?"===i||"#"===i))for(;u.path.length>1&&""===u.path[0];)B(u.path);"?"===i?(u.query="",l=Lt):"#"===i&&(u.fragment="",l=Dt)}else p+=ht(i,ut);break;case It:"?"===i?(u.query="",l=Lt):"#"===i?(u.fragment="",l=Dt):i!==n&&(u.path[0]+=ht(i,at));break;case Lt:e||"#"!==i?i!==n&&("'"===i&&u.isSpecial()?u.query+="%27":u.query+="#"===i?"%23":ht(i,at)):(u.fragment="",l=Dt);break;case Dt:i!==n&&(u.fragment+=ht(i,ct))}h++}},parseHost:function(t){var e,r,n;if("["===U(t,0)){if("]"!==U(t,t.length-1))return K;if(e=function(t){var e,r,n,s,i,o,a,c=[0,0,0,0,0,0,0,0],u=0,l=null,h=0,p=function(){return U(t,h)};if(":"===p()){if(":"!==U(t,1))return;h+=2,l=++u}for(;p();){if(8===u)return;if(":"!==p()){for(e=r=0;r<4&&I(tt,p());)e=16*e+j(p(),16),h++,r++;if("."===p()){if(0===r)return;if(h-=r,u>6)return;for(n=0;p();){if(s=null,n>0){if(!("."===p()&&n<4))return;h++}if(!I(X,p()))return;for(;I(X,p());){if(i=j(p(),10),null===s)s=i;else{if(0===s)return;s=10*s+i}if(s>255)return;h++}c[u]=256*c[u]+s,2!=++n&&4!==n||u++}if(4!==n)return;break}if(":"===p()){if(h++,!p())return}else if(p())return;c[u++]=e}else{if(null!==l)return;h++,l=++u}}if(null!==l)for(o=u-l,u=7;0!==u&&o>0;)a=c[u],c[u--]=c[l+o-1],c[l+--o]=a;else if(8!==u)return;return c}(W(t,1,-1)),!e)return K;this.host=e}else if(this.isSpecial()){if(t=y(t),I(et,t))return K;if(e=function(t){var e,r,n,s,i,o,a,c=q(t,".");if(c.length&&""===c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(r=[],n=0;n<e;n++){if(""===(s=c[n]))return t;if(i=10,s.length>1&&"0"===U(s,0)&&(i=I(Q,s)?16:8,s=W(s,8===i?1:2)),""===s)o=0;else{if(!I(10===i?Z:8===i?Y:tt,s))return t;o=j(s,i)}F(r,o)}for(n=0;n<e;n++)if(o=r[n],n===e-1){if(o>=R(256,5-e))return null}else if(o>255)return null;for(a=M(r),n=0;n<r.length;n++)a+=r[n]*R(256,3-n);return a}(t),null===e)return K;this.host=e}else{if(I(rt,t))return K;for(e="",r=g(t),n=0;n<r.length;n++)e+=ht(r[n],at);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return f(pt,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&ft(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,s=t.host,i=t.port,o=t.path,a=t.query,c=t.fragment,u=e+":";return null!==s?(u+="//",t.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=ot(s),null!==i&&(u+=":"+i)):"file"===e&&(u+="//"),u+=t.cannotBeABaseURL?o[0]:o.length?"/"+L(o,"/"):"",null!==a&&(u+="?"+a),null!==c&&(u+="#"+c),u},setHref:function(t){var e=this.parse(t);if(e)throw new O(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new Ft(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+ot(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(w(t)+":",vt)},getUsername:function(){return this.username},setUsername:function(t){var e=g(w(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=ht(e[r],lt)}},getPassword:function(){return this.password},setPassword:function(t){var e=g(w(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=ht(e[r],lt)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ot(t):ot(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,At)},getHostname:function(){var t=this.host;return null===t?"":ot(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Ct)},getPort:function(){var t=this.port;return null===t?"":w(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=w(t))?this.port=null:this.parse(t,Pt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+L(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Rt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=w(t))?this.query=null:("?"===U(t,0)&&(t=W(t,1)),this.query="",this.parse(t,Lt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=w(t))?("#"===U(t,0)&&(t=W(t,1)),this.fragment="",this.parse(t,Dt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ft=function(t){var e=p(this,Nt),r=_(arguments.length,1)>1?arguments[1]:void 0,n=k(e,new Mt(t,!1,r));i||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Nt=Ft.prototype,Bt=function(t,e){return{get:function(){return T(this)[t]()},set:e&&function(t){return T(this)[e](t)},configurable:!0,enumerable:!0}};if(i&&(h(Nt,"href",Bt("serialize","setHref")),h(Nt,"origin",Bt("getOrigin")),h(Nt,"protocol",Bt("getProtocol","setProtocol")),h(Nt,"username",Bt("getUsername","setUsername")),h(Nt,"password",Bt("getPassword","setPassword")),h(Nt,"host",Bt("getHost","setHost")),h(Nt,"hostname",Bt("getHostname","setHostname")),h(Nt,"port",Bt("getPort","setPort")),h(Nt,"pathname",Bt("getPathname","setPathname")),h(Nt,"search",Bt("getSearch","setSearch")),h(Nt,"searchParams",Bt("getSearchParams")),h(Nt,"hash",Bt("getHash","setHash"))),l(Nt,"toJSON",(function(){return T(this).serialize()}),{enumerable:!0}),l(Nt,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),P){var qt=P.createObjectURL,Wt=P.revokeObjectURL;qt&&l(Ft,"createObjectURL",c(qt,P)),Wt&&l(Ft,"revokeObjectURL",c(Wt,P))}x(Ft,"URL"),s({global:!0,constructor:!0,forced:!o,sham:!i},{URL:Ft})},3487:(t,e,r)=>{"use strict";r(6909)},8670:(t,e,r)=>{"use strict";var n=r(1091),s=r(5582),i=r(4787),o=r(160),a=r(4791),c=s("URL");n({target:"URL",stat:!0,forced:!a},{parse:function(t){var e=i(arguments.length,1),r=o(t),n=e<2||void 0===arguments[1]?void 0:o(arguments[1]);try{return new c(r,n)}catch(t){return null}}})},4783:()=>{},8402:(t,e,r)=>{"use strict";var n=r(3531);t.exports=n},1969:(t,e,r)=>{"use strict";var n=r(2092);t.exports=n},1374:(t,e,r)=>{"use strict";var n=r(6535);t.exports=n},7867:(t,e,r)=>{"use strict";var n=r(5354);t.exports=n},2616:(t,e,r)=>{"use strict";var n=r(3155);t.exports=n},4525:(t,e,r)=>{"use strict";var n=r(3948),s=r(9724),i=r(8280),o=r(1969);r(237);var a=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===a||i(a,t)&&e===a.forEach||s(c,n(t))?o:e}},6343:(t,e,r)=>{"use strict";var n=r(6880);t.exports=n},1618:(t,e,r)=>{"use strict";r(2560);var n=r(3948),s=r(9724),i=r(8280),o=r(1374),a=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.keys;return t===a||i(a,t)&&e===a.keys||s(c,n(t))?o:e}},2990:(t,e,r)=>{"use strict";var n=r(9685);t.exports=n},1086:(t,e,r)=>{"use strict";var n=r(2757);t.exports=n},4598:(t,e,r)=>{"use strict";var n=r(3423);t.exports=n},6660:(t,e,r)=>{"use strict";var n=r(317);t.exports=n},975:(t,e,r)=>{"use strict";var n=r(7367);t.exports=n},9703:(t,e,r)=>{"use strict";var n=r(8970);t.exports=n},8251:(t,e,r)=>{"use strict";var n=r(1926);t.exports=n},6513:(t,e,r)=>{"use strict";var n=r(5092);t.exports=n},3220:(t,e,r)=>{"use strict";var n=r(9147);t.exports=n},9563:(t,e,r)=>{"use strict";var n=r(4776);t.exports=n},6490:(t,e,r)=>{"use strict";var n=r(9661);t.exports=n},5204:(t,e,r)=>{"use strict";var n=r(7027);r(2560),t.exports=n},9270:(t,e,r)=>{"use strict";r(4351);var n=r(2046);t.exports=n.setImmediate},568:(t,e,r)=>{"use strict";r(3342);var n=r(2046);t.exports=n.setTimeout},9157:(t,e,r)=>{"use strict";var n=r(9378);r(2560),t.exports=n},4139:(t,e,r)=>{"use strict";var n=r(3842);r(2560),t.exports=n},7045:(t,e,r)=>{"use strict";var n=r(1730);r(2560),t.exports=n},70:(t,e,r)=>{"use strict";var n=r(1661);t.exports=n},8348:(t,e,r)=>{"use strict";var n=r(9076);r(2560),t.exports=n},9792:(t,e,r)=>{"use strict";var n=r(6908);t.exports=n},9076:(t,e,r)=>{"use strict";r(6299),r(5042),r(7649),r(3604);var n=r(2046);t.exports=n.URLSearchParams},6908:(t,e,r)=>{"use strict";r(9076),r(3487),r(8669),r(8670),r(4783);var n=r(2046);t.exports=n.URL}},h={};function p(t){var e=h[t];if(void 0!==e)return e.exports;var r=h[t]={exports:{}};return l[t].call(r.exports,r,r.exports,p),r.exports}p.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return p.d(e,{a:e}),e},p.d=(t,e)=>{for(var r in e)p.o(e,r)&&!p.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},p.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),p.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var f={};return(()=>{"use strict";p.r(f),p.d(f,{default:()=>ue});var t=p(533),e=p.n(t),r=p(8628),n=p.n(r),s=p(5569),i=p.n(s),o=p(697),a=p.n(o),c=p(6100),u=p.n(c),l=p(6319),h=p.n(l),d=p(8928),g=p.n(d),v=p(6226),m=p.n(v),y=p(6751),w=p.n(y),x=p(5110),_=p.n(x),b=p(1549),S=p.n(b);const k=require("electron");var T=p(9440),A=p.n(T),C=p(1662),P=p.n(C),O=p(6763),j=p.n(O),E=p(9544),R=p.n(E),U=p(1721),I=p.n(U);const L=require("node:path");var D=p.n(L);function M(t,e){var r=a()(t);if(u()){var n=u()(t);e&&(n=h()(n).call(n,(function(e){return g()(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var r=1;r<arguments.length;r++){var n,s,i=null!=arguments[r]?arguments[r]:{};r%2?m()(n=M(Object(i),!0)).call(n,(function(r){e()(t,r,i[r])})):w()?_()(t,w()(i)):m()(s=M(Object(i))).call(s,(function(e){S()(t,e,g()(i,e))}))}return t}const N=(t,e)=>{const r="window-state",n=`window-state-v2-${t}`,s=new(P())({name:n}),i={width:e.width,height:e.height};let o={};o=(t=>{var e;const r=I()(e=k.screen.getAllDisplays()).call(e,(e=>((t,e)=>t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height)(t,e.bounds)));return r?t:(()=>{const t=k.screen.getPrimaryDisplay().bounds;return R()({},i,{x:(t.width-i.width)/2,y:(t.height-i.height)/2})})()})(s.get(r,i));const a=F(F(F({},e),o),{},{webPreferences:F({nodeIntegration:!1,contextIsolation:!0,enableBlinkFeatures:"",sandbox:!1,preload:D().join(__dirname,"preload.js")},e.webPreferences),autoHideMenuBar:!0}),c=new k.BrowserWindow(a);return c.on("close",(()=>{c.isMinimized()||c.isMaximized()||R()(o,(()=>{c.removeMenu();const t=c.getPosition(),e=c.getSize();return{x:t[0],y:t[1],width:e[0],height:e[1]}})()),s.set(r,o)})),c};var B=p(1240),q=p.n(B),W=p(6255),z=p.n(W),H=p(129),V=p.n(H);const K=require("https");var G=p.n(K),J=p(5876);const $={locale:"en",fullscreen:!1,resolution:720,xhome_bitrate_mode:"Auto",xhome_bitrate:20,xcloud_bitrate_mode:"Auto",xcloud_bitrate:20,audio_bitrate_mode:"Auto",audio_bitrate:20,preferred_game_language:"en-US",force_region_ip:"",codec:"",vibration:!0,vibration_mode:"Native",gamepad_kernal:"Native",dead_zone:.1,edge_compensation:0,force_trigger_rumble:"",power_on:!1,video_format:"",virtual_gamepad_opacity:.6,gamepad_maping:null,native_gamepad_maping:null,ipv6:!1,input_mousekeyboard_maping:{ArrowLeft:"DPadLeft",ArrowUp:"DPadUp",ArrowRight:"DPadRight",ArrowDown:"DPadDown",Enter:"A",a:"A",Backspace:"B",b:"B",x:"X",y:"Y","[":"LeftShoulder","]":"RightShoulder","-":"LeftTrigger","=":"RightTrigger",v:"View",m:"Menu",n:"Nexus"},display_options:{sharpness:5,saturation:100,contrast:100,brightness:100},debug:!1};class X{constructor(t,r,n,s="home"){e()(this,"_application",void 0),e()(this,"_host",void 0),e()(this,"_token",void 0),e()(this,"_type",void 0),e()(this,"_sessionPath",void 0),e()(this,"_exchangeCounter",0),e()(this,"_exchangeUrl",""),e()(this,"_currentGame",""),this._application=t,this._host=r,this._token=n,this._type=s}get(t,e="GET"){return new(q())(((r,n)=>{let s="";const i=G().request({host:this._host,path:t,method:e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+this._token}},(i=>{i.on("data",(t=>{s+=t})),i.on("end",(()=>{if(i.statusCode>=200&&i.statusCode<=299){this._application.log("xCloudApi","host:"+this._host+" get("+t+", "+e+") resolve:",i.statusCode);let o=s;try{o=JSON.parse(s)}catch(t){}204===i.statusCode?z()((()=>{this.get(t,e).then((t=>{r(t)})).catch((t=>{n(t)}))}),750):r(o)}else this._application.log("xCloudApi","get("+t+") reject:",i.statusCode),n({url:t,status:i.statusCode,body:s})}))}));i.on("error",(t=>{n(t)})),i.end()}))}post(t,e={},r={}){return new(q())(((n,s)=>{let o="";const a=R()({},{"Content-Type":"application/json",Authorization:"Bearer "+this._token},r),c=G().request({host:this._host,path:t,method:"POST",headers:a},(e=>{e.on("data",(t=>{o+=t})),e.on("end",(()=>{if(e.statusCode>=200&&e.statusCode<=299){this._application.log("xCloudApi","post("+t+") resolve:",e.statusCode,o);let r=o;try{r=JSON.parse(o)}catch(t){}n(r)}else this._application.log("xCloudApi","post("+t+") reject:",e.statusCode),s({url:t,status:e.statusCode,body:o})}))}));c.on("error",(t=>{s(t)})),c.write(i()(e)),c.end()}))}getWaitingTimes(t){return this.get("/v1/waittime/"+t)}getTitles(){return this.get("/v2/titles")}getRecentTitles(){return this.get("/v2/titles/mru?mr=25")}stopStream(t){return this.get("/v5/sessions/"+this._type+"/"+t,"DELETE")}startStream(t){const e=this._application._store.get("settings",$);let r="android";1080==e.resolution?r="windows":1081===e.resolution&&(r="home"===this._type?"windows":"tizen");const n=i()({appInfo:{env:{clientAppId:"www.xbox.com",clientAppType:"browser",clientAppVersion:"24.17.36",clientSdkVersion:"10.1.14",httpEnvironment:"prod",sdkInstallId:""}},dev:{hw:{make:"Microsoft",model:"unknown",sdktype:"web"},os:{name:r,ver:"22631.2715",platform:"desktop"},displayInfo:{dimensions:{widthInPixels:1920,heightInPixels:1080},pixelDensity:{dpiX:1,dpiY:1}},browser:{browserName:"chrome",browserVersion:"125.0"}}}),s={titleId:"cloud"===this._type?t:"",systemUpdateGroup:"",clientSessionId:"",settings:{nanoVersion:"V3;WebrtcTransport.dll",enableTextToSpeech:!1,highContrast:0,locale:e.preferred_game_language?e.preferred_game_language:"en-US",useIceConnection:!1,timezoneOffsetMinutes:120,sdkType:"web",osName:r},serverId:"home"===this._type?t:"",fallbackRegionNames:[]};return this.post("/v5/sessions/"+this._type+"/play",s,{"X-MS-Device-Info":n})}getStreamState(t){return this.get("/v5/sessions/"+this._type+"/"+t+"/state")}sendSdp(t,e){return new(q())(((r,n)=>{const s={messageType:"offer",sdp:e,configuration:{chatConfiguration:{bytesPerSample:2,expectedClipDurationMs:20,format:{codec:"opus",container:"webm"},numChannels:1,sampleFrequencyHz:24e3},chat:{minVersion:1,maxVersion:1},control:{minVersion:1,maxVersion:3},input:{minVersion:1,maxVersion:8},message:{minVersion:1,maxVersion:1}}};this.post("/v5/sessions/"+this._type+"/"+t+"/sdp",s).then((()=>{this.get("/v5/sessions/"+this._type+"/"+t+"/sdp").then((t=>{const e=JSON.parse(t.exchangeResponse);r(e)})).catch((t=>{n(t)}))})).catch((t=>{n(t)}))}))}sendChatSdp(t,e){return new(q())(((r,n)=>{const s={messageType:"offer",sdp:e,configuration:{isMediaStreamsChatRenegotiation:!0}};this.post("/v5/sessions/"+this._type+"/"+t+"/sdp",s).then((()=>{this.get("/v5/sessions/"+this._type+"/"+t+"/sdp").then((t=>{const e=JSON.parse(t.exchangeResponse);r(e)})).catch((t=>{n(t)}))})).catch((t=>{n(t)}))}))}checkIce(t){const e=this._application._store.get("settings",$);return new(q())(((r,s)=>{this.get("/v5/sessions/"+this._type+"/"+t+"/ice").then((i=>{if(""===i)z()((()=>{this.checkIce(t).then((t=>{r(t)})).catch((t=>{s(t)}))}),1e3);else{const t=i,s=JSON.parse(t.exchangeResponse),o=[];for(const t in s){const e=s[t].candidate.split(" ");if(e.length>4&&"2001"===e[4].substr(0,4)){const t=new J.Address6(e[4]).inspectTeredo();o.push({candidate:"a=candidate:10 1 UDP 1 "+t.client4+" 9002 typ host ",messageType:"iceCandidate",sdpMLineIndex:"0",sdpMid:"0"}),o.push({candidate:"a=candidate:11 1 UDP 1 "+t.client4+" "+t.udpPort+" typ host ",messageType:"iceCandidate",sdpMLineIndex:"0",sdpMid:"0"})}o.push(s[t])}const a=new RegExp(/a=candidate:(?<foundation>\d+) (?<component>\d+) UDP (?<priority>\d+) (?<ip>[^\s]+) (?<port>\d+) (?<the_rest>.*)/),c=[];for(const t of o){if("a=end-of-candidates"===t.candidate)continue;const e=a.exec(t.candidate).groups;c.push(e)}e.ipv6&&V()(c).call(c,((t,e)=>{const r=t.ip,s=e.ip;return!n()(r).call(r,":")&&n()(s).call(s,":")?1:-1}));const u=[];let l=1;const h=t=>({candidate:t,messageType:"iceCandidate",sdpMLineIndex:"0",sdpMid:"0"});m()(c).call(c,(t=>{t.foundation=l,t.priority=1===l?2130706431:1,u.push(h(`a=candidate:${t.foundation} 1 UDP ${t.priority} ${t.ip} ${t.port} ${t.the_rest}`)),++l})),u.push(h("a=end-of-candidates")),r(u)}}))}))}sendIce(t,e){return new(q())(((r,n)=>{const s={messageType:"iceCandidate",candidate:e};this.post("/v5/sessions/"+this._type+"/"+t+"/ice",s).then((()=>{this.checkIce(t).then((t=>{r(t)})).catch((t=>{n(t)}))})).catch((t=>{n(t)}))}))}sendMSALAuth(t,e){return this.post("/v5/sessions/"+this._type+"/"+t+"/connect",{userToken:e})}sendKeepalive(t){return this.post("/v5/sessions/"+this._type+"/"+t+"/keepalive")}getActiveSessions(){return this.get("/v5/sessions/"+this._type+"/active")}}class Q{constructor(t){e()(this,"_application",void 0),e()(this,"_friends",{}),e()(this,"_onlineFriends",{}),this._application=t}intervalFriends(){this.updateFriends().then((t=>{const e=[];for(const r in t)"Offline"!==t[r].presenceState&&e.push(t[r]);this._onlineFriends=e})).catch((t=>{console.log("xboxWorker - Error updating friends:",t)}))}updateFriends(){return new(q())(((t,e)=>{this._application._webApi.getProvider("people").getFriends().then((e=>{for(const t in e.people)this._friends[e.people[t].xuid]=e.people[t];t(this._friends)})).catch((t=>{e(t)}))}))}}p(1265),p(7189);var Y=p(2742),Z=p.n(Y);p(7831),p(2181);const tt="1.3.0";class et{constructor(t){e()(this,"data",void 0),this.data=t}calculateSecondsLeft(t){const e=t,r=new Date;return Math.floor((e.getTime()-r.getTime())/1e3)}getSecondsValid(){return console.log("Warning: getSecondsValid not implemented"),0}isValid(){return console.log("Warning: isValid not implemented"),!1}getUserHash(){return"UserToken"in this.data&&this.data.UserToken.DisplayClaims.xui[0].uhs}getGamertag(){return"AuthorizationToken"in this.data&&this.data.AuthorizationToken.DisplayClaims.xui[0].gtg}}class rt extends et{constructor(t){super(t),e()(this,"data",void 0),this.data=t}getSecondsValid(){const t=this.calculateSecondsLeft(new Date(this.data.TitleToken.NotAfter)),e=this.calculateSecondsLeft(new Date(this.data.UserToken.NotAfter)),r=this.calculateSecondsLeft(new Date(this.data.AuthorizationToken.NotAfter));return Math.min(t,e,r)}isValid(){if(this.calculateSecondsLeft(new Date(this.data.TitleToken.NotAfter))<=0)return!1;if(this.calculateSecondsLeft(new Date(this.data.UserToken.NotAfter))<=0)return!1;return!(this.calculateSecondsLeft(new Date(this.data.AuthorizationToken.NotAfter))<=0)}getUserHash(){return this.data.UserToken.DisplayClaims.xui[0].uhs}getGamertag(){return this.data.AuthorizationToken.DisplayClaims.xui[0].gtg}}class nt extends et{constructor(t){super(t),e()(this,"data",void 0),this.data=t}calculateSecondsLeft(t){const e=t,r=new Date;return Math.floor((e.getTime()-r.getTime())/1e3)}getSecondsValid(){return this.calculateSecondsLeft(new Date(this.data.expires_on))}isValid(){return this.calculateSecondsLeft(new Date(this.data.expires_on))>0}}const st=require("fs");var it=p.n(st);function ot(t,e){var r=a()(t);if(u()){var n=u()(t);e&&(n=h()(n).call(n,(function(e){return g()(t,e).enumerable}))),r.push.apply(r,n)}return r}function at(t){for(var r=1;r<arguments.length;r++){var n,s,i=null!=arguments[r]?arguments[r]:{};r%2?m()(n=ot(Object(i),!0)).call(n,(function(r){e()(t,r,i[r])})):w()?_()(t,w()(i)):m()(s=ot(Object(i))).call(s,(function(e){S()(t,e,g()(i,e))}))}return t}class ct{constructor(){e()(this,"_filepath",""),e()(this,"_userToken",void 0),e()(this,"_sisuToken",void 0),e()(this,"_jwtKeys",void 0)}load(t,e=!1){if(this._filepath=t,it().existsSync(t)){const e=it().readFileSync(t);return this.loadJson(e.toString())}if(!e)throw new Error("TokenStore: File not found: "+t);return!1}loadJson(t){const e=JSON.parse(t);return e.userToken&&(this._userToken=new nt(e.userToken)),e.sisuToken&&(this._sisuToken=new rt(e.sisuToken)),e.jwtKeys&&(this._jwtKeys=e.jwtKeys),!0}setUserToken(t){const e=new Date;e.setSeconds(e.getSeconds()+t.data.expires_in),this._userToken=new nt(at(at({},t.data),{},{expires_on:e.toISOString()}))}getUserToken(){return this._userToken}setSisuToken(t){this._sisuToken=new rt(t.data)}getSisuToken(){return this._sisuToken}setJwtKeys(t){this._jwtKeys=t}save(){const t={userToken:this._userToken?.data,sisuToken:this._sisuToken?.data,jwtKeys:this._jwtKeys};it().writeFileSync(this._filepath,i()(t,null,2))}removeAll(){it().writeFileSync(this._filepath,i()({}))}hasValidAuthTokens(){return!!this._userToken&&(!!this._userToken.isValid()&&(!!this._sisuToken&&!!this._userToken.isValid()))}}var ut=p(7169),lt=p.n(ut),ht=p(5413),pt=p.n(ht),ft=p(6512),dt=p.n(ft),gt=p(6984),vt=p.n(gt);function mt(t,e){var r=a()(t);if(u()){var n=u()(t);e&&(n=h()(n).call(n,(function(e){return g()(t,e).enumerable}))),r.push.apply(r,n)}return r}function yt(t){for(var r=1;r<arguments.length;r++){var n,s,i=null!=arguments[r]?arguments[r]:{};r%2?m()(n=mt(Object(i),!0)).call(n,(function(r){e()(t,r,i[r])})):w()?_()(t,w()(i)):m()(s=mt(Object(i))).call(s,(function(e){S()(t,e,g()(i,e))}))}return t}class wt{getRequest(t,e,r){return new(q())(((n,s)=>{const i=yt({},r),o={method:"GET",hostname:t,path:e,port:443,headers:i},a=G().request(o,(r=>{let i="";r.on("data",(t=>{i+=t})),r.on("close",(()=>{200==r.statusCode||204==r.statusCode?""===i.toString()?n(new xt({},r.headers)):n(new xt(JSON.parse(i.toString()),r.headers)):s({statuscode:r.statusCode,headers:r.headers,body:i.toString(),message:"Error fetching "+t+e})}))}));a.on("error",(t=>{s(t)})),a.end()}))}postRequest(t,e,r,n){return new(q())(((s,o)=>{const a=yt({},r);"object"==typeof n&&(n=i()(n));const c={method:"POST",hostname:t,path:e,port:443,headers:a},u=G().request(c,(r=>{let n="";r.on("data",(t=>{n+=t})),r.on("close",(()=>{200==r.statusCode||202==r.statusCode?""===n.toString()?s(new xt({},r.headers)):s(new xt(JSON.parse(n.toString()),r.headers)):o({statuscode:r.statusCode,headers:r.headers,body:n.toString(),message:"Error fetching "+t+e})}))}));u.on("error",(t=>{o(t)})),u.write(n),u.end()}))}}class xt{constructor(t,r){e()(this,"data",void 0),e()(this,"headers",void 0),this.data=t,this.headers=r}header(){return this.headers}body(){return this.data}}const _t=require("crypto");var bt=p.n(_t),St=p(9603);class kt extends et{constructor(t){super(t),e()(this,"data",void 0),this.data=t}getSecondsValid(){return this.calculateSecondsLeft(new Date(this.data.NotAfter))}isValid(){return!(this.calculateSecondsLeft(new Date(this.data.NotAfter))<=0)}}class Tt extends et{constructor(t){super(t),e()(this,"data",void 0),e()(this,"_objectCreateTime",lt()()),this.data=t}calculateSecondsLeft(t){const e=t,r=new Date;return Math.floor((e.getTime()-r.getTime())/1e3)}getSecondsValid(){return this._objectCreateTime+1e3*this.data.durationInSeconds?this.calculateSecondsLeft(new Date(this._objectCreateTime+1e3*this.data.durationInSeconds)):0}isValid(){if(this._objectCreateTime+1e3*this.data.durationInSeconds){return this.calculateSecondsLeft(new Date(this._objectCreateTime+1e3*this.data.durationInSeconds))>0}return!1}getMarket(){return this.data.market}getRegions(){return this.data.offeringSettings.regions}getDefaultRegion(){var t;return h()(t=this.data.offeringSettings.regions).call(t,(t=>t.isDefault))[0]}setDefaultRegion(t){var e;m()(e=this.data.offeringSettings.regions).call(e,(e=>{e.name===t?e.isDefault=!0:e.isDefault=!1}))}getEnvironments(){return this.data.offeringSettings.clientCloudSettings.Environments}}class At extends et{constructor(t){super(t),e()(this,"data",void 0),this.data=t}getSecondsValid(){return this.calculateSecondsLeft(new Date(this.data.NotAfter))}isValid(){return!(this.calculateSecondsLeft(new Date(this.data.NotAfter))<=0)}}class Ct extends et{constructor(t){super(t),e()(this,"data",void 0),this.data=t}}function Pt(t,e){var r=a()(t);if(u()){var n=u()(t);e&&(n=h()(n).call(n,(function(e){return g()(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ot(t){for(var r=1;r<arguments.length;r++){var n,s,i=null!=arguments[r]?arguments[r]:{};r%2?m()(n=Pt(Object(i),!0)).call(n,(function(r){e()(t,r,i[r])})):w()?_()(t,w()(i)):m()(s=Pt(Object(i))).call(s,(function(e){S()(t,e,g()(i,e))}))}return t}const jt=p(8109),Et=()=>jt.v3({namespace:"6ba7b811-9dad-11d1-80b4-00c04fd430c8",name:lt()().toString()});class Rt{constructor(t){e()(this,"keys",void 0),e()(this,"jwtKeys",void 0),e()(this,"_app",{AppId:"000000004c20a908",TitleId:"328178078",RedirectUri:"ms-xal-000000004c20a908://auth"}),e()(this,"codeChallange",void 0),e()(this,"_webToken",void 0),e()(this,"_xhomeToken",void 0),e()(this,"_xcloudToken",void 0),t&&t._jwtKeys&&this.setKeys(t._jwtKeys.jwt).then((t=>{})).catch((t=>{console.log("Failed to load keys:",t)}))}setKeys(t){return new(q())(((e,r)=>{_t.subtle.importKey("jwk",t,{name:"ECDSA",namedCurve:"P-256"},!0,["sign"]).then((r=>{const n=_t.KeyObject.from(r);this.jwtKeys={raw:{privateKey:n},jwt:t},e(this.jwtKeys)})).catch((t=>{console.log("key error:",t),r(t)}))}))}getKeys(){return new(q())(((t,e)=>{void 0!==this.jwtKeys?t(this.jwtKeys):void 0===pt()(this)?(this.keys=bt().generateKeyPairSync("ec",{namedCurve:"P-256"}),this.jwtKeys={raw:pt()(this)},(0,St.exportJWK)(pt()(this).publicKey).then((r=>{const n=Ot(Ot({},r),{},{alg:"ES256",use:"sig"});this.jwtKeys={raw:pt()(this),jwt:n};const s=this.jwtKeys.raw.privateKey.export({type:"pkcs8",format:"jwk"});this.setKeys(s).then((e=>{t(e)})).catch((t=>{e(t)}))}))):t(this.jwtKeys)}))}getCodeChallange(){return new(q())(((t,e)=>{if(void 0===this.codeChallange){const t=Buffer.from(bt().pseudoRandomBytes(32)).toString("base64url"),e=bt().createHash("sha256").update(t).digest();this.codeChallange={value:e.toString("base64url"),method:"S256",verifier:t}}t(this.codeChallange)}))}getRandomState(t=64){return bt().randomBytes(t).toString("base64url")}getDeviceTokenHack(){return console.log("getDeviceTokenHack..."),new(q())(((t,e)=>{this.getDeviceToken().then((e=>{console.log("getDeviceToken success:",e),t(e)})).catch((r=>{if(400==r.statuscode)return console.log("device token get error, retry..."),this.getDeviceTokenHack().then(t).catch(e);e(r)}))}))}getDeviceToken(){return console.log("getDeviceToken..."),new(q())(((t,e)=>{this.getKeys().then((r=>{const n={Properties:{AuthMethod:"ProofOfPossession",Id:`{${Et()}}`,DeviceType:"Android",SerialNumber:`{${Et()}}`,Version:"15.0",ProofKey:{use:"sig",alg:"ES256",kty:"EC",crv:"P-256",x:r.jwt.x,y:r.jwt.y}},RelyingParty:"http://auth.xboxlive.com",TokenType:"JWT"},s=i()(n),o=this.sign("https://device.auth.xboxlive.com/device/authenticate","",s,r).toString("base64"),a=Ot(Ot({},{"x-xbl-contract-version":"1","Cache-Control":"no-store, must-revalidate, no-cache"}),{},{Signature:o});(new wt).postRequest("device.auth.xboxlive.com","/device/authenticate",a,s).then((e=>{t(new kt(e.body()))})).catch((t=>{e(t)}))}))}))}doSisuAuthentication(t,e,r){return new(q())(((n,s)=>{this.getKeys().then((o=>{const a={AppId:this._app.AppId,TitleId:this._app.TitleId,RedirectUri:this._app.RedirectUri,DeviceToken:t.data.Token,Sandbox:"RETAIL",TokenType:"code",Offers:["service::user.auth.xboxlive.com::MBI_SSL"],Query:{display:"android_phone",code_challenge:e.value,code_challenge_method:e.method,state:r}},c=i()(a),u=this.sign("https://sisu.xboxlive.com/authenticate","",c,o).toString("base64"),l=Ot(Ot({},{"x-xbl-contract-version":"1","Cache-Control":"no-store, must-revalidate, no-cache"}),{},{Signature:u});(new wt).postRequest("sisu.xboxlive.com","/authenticate",l,c).then((t=>{const e=Ot({SessionId:t.headers["x-sessionid"]},t.body());n(e)})).catch((t=>{s(t)}))}))}))}doSisuAuthorization(t,e,r){return console.log("doSisuAuthorization..."),new(q())(((n,s)=>{this.getKeys().then((o=>{const a=Ot({AccessToken:"t="+t.data.access_token,AppId:this._app.AppId,DeviceToken:e.data.Token,Sandbox:"RETAIL",SiteName:"user.auth.xboxlive.com",UseModernGamertag:!0,ProofKey:{use:"sig",alg:"ES256",kty:"EC",crv:"P-256",x:o.jwt.x,y:o.jwt.y}},r?{SessionId:r}:{}),c=i()(a),u={"x-xbl-contract-version":"1","Cache-Control":"no-store, must-revalidate, no-cache",signature:this.sign("https://sisu.xboxlive.com/authorize","",c,o).toString("base64")};(new wt).postRequest("sisu.xboxlive.com","/authorize",u,c).then((t=>{n(new rt(t.body()))})).catch((t=>{s(t)}))}))}))}exchangeCodeForToken(t,e){return new(q())(((r,n)=>{const s={client_id:this._app.AppId,code:t,code_verifier:e,grant_type:"authorization_code",redirect_uri:this._app.RedirectUri,scope:"service::user.auth.xboxlive.com::MBI_SSL"},i=new(dt())(s).toString();(new wt).postRequest("login.live.com","/oauth20_token.srf",{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-store, must-revalidate, no-cache"},i).then((t=>{r(new nt(t.body()))})).catch((t=>{n(t)}))}))}refreshUserToken(t){return console.log("refreshUserToken..."),new(q())(((e,r)=>{const n={client_id:this._app.AppId,grant_type:"refresh_token",refresh_token:t.data.refresh_token,scope:"service::user.auth.xboxlive.com::MBI_SSL"},s=new(dt())(n).toString();(new wt).postRequest("login.live.com","/oauth20_token.srf",{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-store, must-revalidate, no-cache"},s).then((t=>{console.log("refreshUserToken success: ",t.body()),e(new nt(t.body()))})).catch((t=>{console.log("refreshUserToken fail:",t),r(t)}))}))}doXstsAuthorization(t,e){return new(q())(((r,n)=>{this.getKeys().then((s=>{const o={Properties:{SandboxId:"RETAIL",DeviceToken:t.data.DeviceToken,TitleToken:t.data.TitleToken.Token,UserTokens:[t.data.UserToken.Token]},RelyingParty:e,TokenType:"JWT"},a=i()(o),c=this.sign("https://xsts.auth.xboxlive.com/xsts/authorize","",a,s).toString("base64"),u=Ot(Ot({},{"x-xbl-contract-version":"1","Cache-Control":"no-store, must-revalidate, no-cache"}),{},{Signature:c});(new wt).postRequest("xsts.auth.xboxlive.com","/xsts/authorize",u,a).then((t=>{r(new At(t.body()))})).catch((t=>{n(t)}))}))}))}exchangeRefreshTokenForXcloudTransferToken(t){return new(q())(((e,r)=>{const n={client_id:this._app.AppId,grant_type:"refresh_token",scope:"service::http://Passport.NET/purpose::PURPOSE_XBOX_CLOUD_CONSOLE_TRANSFER_TOKEN",refresh_token:t.data.refresh_token,code:"",code_verifier:"",redirect_uri:""},s=new(dt())(n).toString();(new wt).postRequest("login.live.com","/oauth20_token.srf",{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-store, must-revalidate, no-cache"},s).then((t=>{e(new Ct(t.body()))})).catch((t=>{r(t)}))}))}getStreamToken(t,e,r=""){return new(q())(((n,s)=>{const o={token:t.data.Token,offeringId:e},a=i()(o),c={"Content-Type":"application/json","Cache-Control":"no-store, must-revalidate, no-cache","x-gssv-client":"XboxComBrowser","Content-Length":a.length};r.length>0&&(c["x-forwarded-for"]=r);(new wt).postRequest(e+".gssv-play-prod.xboxlive.com","/v2/login/user",c,a).then((t=>{n(new Tt(t.body()))})).catch((t=>{s(t)}))}))}sign(t,e,r,n){const s=(BigInt(lt()()/1e3|0)+BigInt(11644473600))*BigInt(1e7),i=new(vt())(t).pathname,o=19+i.length+1+e.length+1+r.length+1,a=Buffer.alloc(o);a.writeInt32BE(1),a.writeUInt8(0,4),a.writeBigUInt64BE(s,5),a.writeUInt8(0,13);let c=14;Buffer.from("POST").copy(a,c),a.writeUInt8(0,c+4),c=c+4+1,Buffer.from(i).copy(a,c),a.writeUInt8(0,c+i.length),c=c+i.length+1,Buffer.from(e).copy(a,c),a.writeUInt8(0,c+e.length),c=c+e.length+1,Buffer.from(r).copy(a,c),a.writeUInt8(0,c+r.length),c=c+r.length+1;const u=bt().sign("SHA256",a,{key:n.raw.privateKey,dsaEncoding:"ieee-p1363"}),l=Buffer.alloc(u.length+12);return l.writeInt32BE(1),l.writeBigUInt64BE(s,4),Buffer.from(u).copy(l,12),l}async refreshTokens(t){const e=t.getUserToken();if(void 0===e)throw new Error("User token is missing. Please authenticate first");try{const r=await this.refreshUserToken(e),n=await this.getDeviceTokenHack(),s=await this.doSisuAuthorization(r,n);return t.setUserToken(r),t.setSisuToken(s),t.save(),{userToken:r,deviceToken:n,sisuToken:s}}catch(t){throw new Ut("Failed to refresh tokens: "+i()(t))}}async getMsalToken(t){const e=t.getUserToken();if(void 0===e)throw new Error("User token is missing. Please authenticate first");return await this.exchangeRefreshTokenForXcloudTransferToken(e)}async getWebToken(t){const e=t.getSisuToken();if(void 0===e)throw new Error("Sisu token is missing. Please authenticate first");if(void 0===this._webToken||this._webToken.getSecondsValid()<=60){const t=await this.doXstsAuthorization(e,"http://xboxlive.com");return this._webToken=t,t}return this._webToken}async getStreamingToken(t){const e=t.getSisuToken();if(void 0===e)throw new Error("Sisu token is missing. Please authenticate first");const r=await this.doXstsAuthorization(e,"http://gssv.xboxlive.com/");if((void 0===this._xhomeToken||this._xhomeToken.getSecondsValid()<=60)&&(this._xhomeToken=await this.getStreamToken(r,"xhome")),void 0===this._xcloudToken||this._xcloudToken.getSecondsValid()<=60)try{this._xcloudToken=await this.getStreamToken(r,"xgpuweb")}catch(t){this._xcloudToken=await this.getStreamToken(r,"xgpuwebf2p")}return{xHomeToken:this._xhomeToken,xCloudToken:this._xcloudToken}}async getRedirectUri(){const t=await this.getDeviceTokenHack(),e=await this.getCodeChallange(),r=this.getRandomState();return{sisuAuth:await this.doSisuAuthentication(t,e,r),state:r,codeChallange:e}}async authenticateUser(t,e,r){const n=new(vt())(r);if(n.searchParams.get("error")){n.searchParams.get("error_description");return!1}const s=n.searchParams.get("code");if(s){const r=n.searchParams.get("state");if(r)return this.authenticateUserUsingCode(t,e,s,r)}return!1}async authenticateUserUsingCode(t,e,r,n){if(console.log("authenticateUser:",r,n),n!==e.state)return!1;const s=await this.getCodeChallange(),i=await this.exchangeCodeForToken(r,s.verifier);return t.setUserToken(i),t.setJwtKeys(this.jwtKeys),t.save(),!0}}class Ut extends Error{}class It extends ct{constructor(...t){super(...t),e()(this,"_store",new(P()))}load(){const t=this._store.get("user.tokenstore","{}");return this.loadJson(t),!0}save(){const t=i()({userToken:this._userToken?.data,sisuToken:this._sisuToken?.data,jwtKeys:this._jwtKeys});this._store.set("user.tokenstore",t)}clear(){this._store.delete("user.tokenstore"),this._userToken=void 0,this._sisuToken=void 0,this._jwtKeys=void 0}}class Lt{constructor(t){e()(this,"_application",void 0),e()(this,"_tokenStore",void 0),e()(this,"_xal",void 0),e()(this,"_authWindow",void 0),e()(this,"_authCallback",void 0),e()(this,"_isAuthenticating",!1),e()(this,"_isAuthenticated",!1),e()(this,"_appLevel",0),this._application=t,this._tokenStore=new It,this._tokenStore.load(),this._xal=new Rt(this._tokenStore)}checkAuthentication(){return this._isAuthenticating=!0,this._isAuthenticated=!1,this._application.log("authenticationV2","[checkAuthentication()] Starting token check..."),this._tokenStore.hasValidAuthTokens()?(this._application.log("authenticationV2","[checkAuthentication()] Tokens are valid."),this.startSilentFlow(),!0):void 0!==this._tokenStore.getUserToken()?(this._application.log("authenticationV2","[checkAuthentication()] Tokens are expired but we have a user token. Lets try to refresh the tokens."),this.startSilentFlow(),!0):(this._application.log("authenticationV2","[checkAuthentication()] No tokens are present."),!1)}startSilentFlow(){this._application.log("authenticationV2","[startSilentFlow()] Starting silent flow..."),this._isAuthenticating=!0,this._xal.refreshTokens(this._tokenStore).then((()=>{this._application.log("authenticationV2","[startSilentFlow()] Tokens have been refreshed"),this.getStreamingToken(this._tokenStore).then((t=>{null!==t.xCloudToken?(this._application.log("authenticationV2","[startSilentFlow()] Retrieved both xHome and xCloud tokens"),this._appLevel=2):(this._application.log("authenticationV2","[startSilentFlow()] Retrieved xHome token only"),this._appLevel=1),this._xal.getWebToken(this._tokenStore).then((e=>{this._application.log("authenticationV2",__filename+"[startSilentFlow()] Web token received"),this._application.authenticationCompleted(t,e)})).catch((t=>{this._application.log("authenticationV2",__filename+"[startSilentFlow()] Failed to retrieve web tokens:",t),k.dialog.showMessageBox({message:"Error: Failed to retrieve web tokens:"+i()(t),type:"error"})}))})).catch((t=>{this._application.log("authenticationV2","[startSilentFlow()] Failed to retrieve streaming tokens:",t),k.dialog.showMessageBox({message:"Error: Failed to retrieve streaming tokens:"+i()(t),type:"error"})}))})).catch((t=>{this._application.log("authenticationV2","[startSilentFlow()] Error refreshing tokens:",t),k.dialog.showMessageBox({message:"[startSilentFlow()] Error refreshing tokens:"+i()(t),type:"error"}),this._tokenStore.clear()}))}startAuthflow(){this._application.log("authenticationV2","[startAuthflow()] Starting authentication flow"),this._xal.getRedirectUri().then((t=>{this.openAuthWindow(t.sisuAuth.MsaOauthRedirect),this._authCallback=e=>{this._isAuthenticating=!0,this._application.log("authenticationV2","[startAuthFlow()] Got redirect URI:",e),this._xal.authenticateUser(this._tokenStore,t,e).then((t=>{this._application.log("authenticationV2","[startAuthFlow()] Authenticated user:",t),this.startSilentFlow()})).catch((t=>{this._application.log("authenticationV2","[startAuthFlow()] Error authenticating user:",t),k.dialog.showErrorBox("Error","Error authenticating user. Error details: "+i()(t))}))}})).catch((t=>{this._application.log("authenticationV2","[startAuthFlow()] Error getting redirect URI:",t),k.dialog.showErrorBox("Error","Error getting redirect URI. Error details: "+i()(t))}))}startWebviewHooks(){this._application.log("authenticationV2","[startWebviewHooks()] Starting webview hooks"),k.session.defaultSession.webRequest.onHeadersReceived({urls:["https://login.live.com/oauth20_authorize.srf?*","https://login.live.com/ppsecure/post.srf?*"]},((t,e)=>{var r;void 0!==t.responseHeaders.Location&&n()(r=t.responseHeaders.Location[0]).call(r,this._xal._app.RedirectUri)?(this._application.log("authenticationV2","[startWebviewHooks()] Got redirect URI from OAUTH:",t.responseHeaders.Location[0]),this._authWindow.close(),void 0!==this._authCallback?this._authCallback(t.responseHeaders.Location[0]):(this._application.log("authenticationV2","[startWebviewHooks()] Authentication Callback is not defined:",this._authCallback),k.dialog.showErrorBox("Error","Authentication Callback is not defined. Error details: "+i()(this._authCallback))),e({cancel:!0})):e(t)}))}openAuthWindow(t){const e=N("auth",{width:500,height:600,title:"Authentication"});e.loadURL(t),this._authWindow=e,this._authWindow.on("close",(()=>{this._application.log("authenticationV2","[openAuthWindow()] Closed auth window")}))}async getStreamingToken(t){console.log("getStreamingToken");const e=t.getSisuToken();if(void 0===e)throw new Error("Sisu token is missing. Please authenticate first");const r=await this._xal.doXstsAuthorization(e,"http://gssv.xboxlive.com/");console.log("this._xal._xhomeToken:",this._xal._xhomeToken),(void 0===this._xal._xhomeToken||this._xal._xhomeToken.getSecondsValid()<=60)&&(this._xal._xhomeToken=await this._xal.getStreamToken(r,"xhome")),console.log("this._xal._xcloudToken:",this._xal._xcloudToken);const n=this._application._store.get("settings",$);if(!this._xal._xcloudToken||this._xal._xcloudToken.getSecondsValid()<=60)try{this._xal._xcloudToken=await this._xal.getStreamToken(r,"xgpuweb",n.force_region_ip)}catch(t){try{this._xal._xcloudToken=await this._xal.getStreamToken(r,"xgpuwebf2p",n.force_region_ip)}catch(t){this._xal._xcloudToken=null}}return{xHomeToken:this._xal._xhomeToken,xCloudToken:this._xal._xcloudToken}}}function Dt(t,e){var r=a()(t);if(u()){var n=u()(t);e&&(n=h()(n).call(n,(function(e){return g()(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mt(t){for(var r=1;r<arguments.length;r++){var n,s,i=null!=arguments[r]?arguments[r]:{};r%2?m()(n=Dt(Object(i),!0)).call(n,(function(r){e()(t,r,i[r])})):w()?_()(t,w()(i)):m()(s=Dt(Object(i))).call(s,(function(e){S()(t,e,g()(i,e))}))}return t}const Ft=class{get(t,e,r){return new(q())(((n,s)=>{const i=Mt({},r);Z().get(`https://${t}${e}`,{headers:i}).then((r=>{200===r.status||204===r.status?n(r.data):n({statuscode:r.code,headers:r.headers,body:r.data,message:"Error fetching "+t+e})})).catch((t=>{s(t)}))}))}post(t,e,r,n){return new(q())(((s,o)=>{const a=Mt({},r);"object"==typeof n&&(n=i()(n)),Z().post(`https://${t}${e}`,n,{headers:a}).then((r=>{200===r.status||202===r.status?s(r.data):s({statuscode:r.code,headers:r.headers,body:r.data,message:"Error fetching "+t+e})})).catch((t=>{o(t)}))}))}};class Nt{constructor(t){e()(this,"_application",void 0),this._application=t}onEvent(t,e,r){if(this._application.log("Ipc:Recv","Received event: ["+t+"]",r),"function"==typeof this[r.action]){(a()(r.data).length>0?this[r.action](r.data):this[r.action]()).then((e=>{this.send(t,{action:r.action,id:r.id,data:e})})).catch((e=>{console.log("ERROR: IPC communication error from backend:",e),this.send(t,{action:r.action,id:r.id,data:{},error:e})}))}else this._application.log("Ipc","ERROR: Action was not found:",r.action,"on channel",t),this.send(t,{action:r.action,id:r.id,data:{},error:"IPC action failure. Action was not found: "+t+":"+r.action})}send(t,e){this._application.log("Ipc:Send","Sending event: ["+t+"]",i()(e)),this._application._mainWindow.webContents.send(t,{action:e.action,id:e.id,data:e.data,error:e.error})}}var Bt=p(8109),qt=p.n(Bt);class Wt extends Nt{constructor(...t){super(...t),e()(this,"_consoles",[]),e()(this,"_consolesLastUpdate",0)}sendCommand(t,e,r,n){console.log("[sendCommand]:",t,e,r);const s=new Ft;void 0===n&&(n=[]);const o={destination:"Xbox",type:e,command:r,sessionId:qt().v3({namespace:"6ba7b811-9dad-11d1-80b4-00c04fd430c8",name:lt()().toString()}),sourceId:"com.microsoft.smartglass",parameters:n,linkedXboxId:t};return new(q())(((t,e)=>{s.post("xccs.xboxlive.com","/commands",{Authorization:"XBL3.0 x="+this._application.webToken.data.DisplayClaims.xui[0].uhs+";"+this._application.webToken.data.Token,"Accept-Language":"en-US",skillplatform:"RemoteManagement","x-xbl-contract-version":"4","x-xbl-client-name":"XboxApp","x-xbl-client-type":"UWA","x-xbl-client-version":"39.39.22001.0"},o).then((e=>{console.log("[sendCommand] /commands/ response:",i()(e)),e.result?t(e.result):t([])})).catch((t=>{e(t)}))}))}get(){return new(q())(((t,e)=>{this._consolesLastUpdate<lt()()-6e4?this._application._webApi.getProvider("smartglass").getConsolesList().then((e=>{this._consoles=e.result,this._consolesLastUpdate=lt()(),t(this._consoles)})).catch((t=>{e(t)})):t(this._consoles)}))}powerOn(t){return console.log("consoleId:",t),new(q())(((e,r)=>{this.sendCommand(t,"Power","WakeUp").then((t=>{e(t)})).catch((t=>{r(t)}))}))}powerOff(t){return new(q())(((e,r)=>{this.sendCommand(t,"Power","TurnOff").then((t=>{e(t)})).catch((t=>{r(t)}))}))}}class zt{constructor(t){e()(this,"_application",void 0),e()(this,"_sessions",{}),this._application=t}getApi(t){const e=this._application.streamingTokens;return"home"===t?new X(this._application,e.xHomeToken.getDefaultRegion().baseUri.substring(8),e.xHomeToken.data.gsToken,"home"):new X(this._application,e.xCloudToken.getDefaultRegion().baseUri.substring(8),e.xCloudToken.data.gsToken,"cloud")}getSession(t){return this._sessions[t]}startStream(t,e){return new(q())(((r,n)=>{this.getApi(t).startStream(e).then((n=>{console.log("Streammanager - startStream:",n);const s=n.sessionPath.split("/")[3],i={id:s,target:e,path:n.sessionPath,type:t,playerState:"pending"};this._sessions[s]=i,this.monitorSession(s),r(s)})).catch((t=>{n(t)}))}))}stopStream(t){return new(q())(((e,r)=>{const n=this.getSession(t);void 0!==n?this.getApi(n.type).stopStream(t).then((r=>{console.log("Current sessions:",this._sessions),delete this._sessions[t],console.log("new sessions:",this._sessions),e(r)})).catch((t=>{r(t)})):r("Session not found: "+t)}))}sendSdp(t,e){return new(q())(((r,n)=>{const s=this.getSession(t);void 0!==s?this.getApi(s.type).sendSdp(t,e).then((t=>{r(t)})).catch((t=>{n(t)})):n("Session not found: "+t)}))}sendChatSdp(t,e){return new(q())(((r,n)=>{const s=this.getSession(t);void 0!==s?this.getApi(s.type).sendChatSdp(t,e).then((t=>{r(t)})).catch((t=>{n(t)})):n("Session not found: "+t)}))}sendIce(t,e){return new(q())(((r,n)=>{const s=this.getSession(t);void 0!==s?this.getApi(s.type).sendIce(t,e).then((t=>{r(t)})).catch((t=>{n(t)})):n("Session not found: "+t)}))}sendKeepalive(t){return new(q())(((e,r)=>{const n=this.getSession(t);void 0!==n?this.getApi(n.type).sendKeepalive(t).then((t=>{e(t)})).catch((t=>{r(t)})):r("Session not found: "+t)}))}monitorSession(t){z()((()=>{this._application.log("StreamManager","monitorSession("+t+") checking state");void 0!==this.getSession(t)?this.getApi(this.getSession(t).type).getStreamState(t).then((e=>{console.log("Streammanager - state:",e),this.getSession(t).state=e.state,"Provisioned"===e.state?this.getSession(t).playerState="started":"Provisioning"===e.state?this.monitorSession(t):"ReadyToConnect"===e.state?this._application._authentication._xal.getMsalToken(this._application._authentication._tokenStore).then((e=>{this.getApi(this.getSession(t).type).sendMSALAuth(t,e.data.lpt).then((()=>{this.monitorSession(t)})).catch((t=>{console.log("MSAL AUTH Error:",t),alert("MSAL AUTH Error:"+t)}))})).catch((t=>{console.log("MSAL AUTH Error:",t),alert("MSAL AUTH Error:"+t)})):"WaitingForResources"===e.state?(void 0===this.getSession(t).waitingTimes&&this.getApi(this.getSession(t).type).getWaitingTimes(this.getSession(t).target).then((e=>{this.getSession(t).waitingTimes=e,this.getSession(t).playerState="queued"})),this.monitorSession(t)):"Failed"===e.state?(this.getSession(t).errorDetails=e.errorDetails,this.getSession(t).playerState="failed"):console.log("Unknown state:",e)})).catch((e=>{console.log("Streammanager - error checking state:",t,e),404===e.status?(this._application.log("StreamManager","Session not found on server. Removing session..."),delete this._sessions[t]):this.monitorSession(t)})):this._application.log("StreamManager","monitorSession("+t+") session not found")}),1e3)}getActiveSessions(){return new(q())(((t,e)=>{this.getApi("cloud").getActiveSessions().then((e=>{console.log("Active sessions:",e),t(e)})).catch((t=>{e(t)}))}))}}class Ht extends Nt{constructor(t){super(t),e()(this,"_streamManager",void 0),this._streamManager=new zt(t)}startStream(t){return"home"===t.type?this._application._ipc._channels.consoles._consolesLastUpdate=0:this._application._ipc._channels.xCloud._recentTitlesLastUpdate=0,this._streamManager.startStream(t.type,t.target)}stopStream(t){return this._streamManager.stopStream(t.sessionId)}sendSdp(t){return this._streamManager.sendSdp(t.sessionId,t.sdp)}sendChatSdp(t){return this._streamManager.sendChatSdp(t.sessionId,t.sdp)}sendIce(t){return this._streamManager.sendIce(t.sessionId,t.ice)}sendKeepalive(t){return this._streamManager.sendKeepalive(t.sessionId)}getPlayerState(t){return new(q())((e=>{e(this._streamManager.getSession(t.sessionId))}))}activeSessions(){return this._streamManager.getActiveSessions()}}var Vt=p(6615),Kt=p.n(Vt),Gt=p(9261),Jt=p.n(Gt);class $t{constructor(t){e()(this,"_application",void 0),this._application=t}get(t,e,r="GET"){return new(q())(((n,s)=>{let i="";const o=G().request({host:t,path:e,method:r,headers:{"Content-Type":"application/json"}},(t=>{t.on("data",(t=>{i+=t})),t.on("end",(()=>{if(t.statusCode>=200&&t.statusCode<=299){this._application.log("HTTP","get("+e+", "+r+") resolve:",t.statusCode);let o=i;try{o=JSON.parse(i)}catch(t){}204===t.statusCode?z()((()=>{this.get(e,r).then((t=>{n(t)})).catch((t=>{s(t)}))}),750):n(o)}else this._application.log("HTTP","get("+e+") reject:",t.statusCode),s({url:e,status:t.statusCode,body:i})}))}));o.on("error",(t=>{s(t)})),o.end()}))}post(t,e,r={},n={}){return new(q())(((s,o)=>{let a="";const c=R()({},{"Content-Type":"application/json"},n),u=G().request({host:t,path:e,method:"POST",headers:c},(t=>{t.on("data",(t=>{a+=t})),t.on("end",(()=>{if(t.statusCode>=200&&t.statusCode<=299){this._application.log("HTTP","post("+e+") resolve:",t.statusCode,a.substring(0,100));let r=a;try{r=JSON.parse(a)}catch(t){}s(r)}else this._application.log("HTTP","post("+e+") reject:",t.statusCode),o({url:e,status:t.statusCode,body:a})}))}));u.on("error",(t=>{o(t)})),u.write(i()(r)),u.end()}))}}function Xt(t,e){var r=a()(t);if(u()){var n=u()(t);e&&(n=h()(n).call(n,(function(e){return g()(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qt(t){for(var r=1;r<arguments.length;r++){var n,s,i=null!=arguments[r]?arguments[r]:{};r%2?m()(n=Xt(Object(i),!0)).call(n,(function(r){e()(t,r,i[r])})):w()?_()(t,w()(i)):m()(s=Xt(Object(i))).call(s,(function(e){S()(t,e,g()(i,e))}))}return t}class Yt{constructor(t){e()(this,"_application",void 0),e()(this,"_store",new(P())),e()(this,"_http",void 0),e()(this,"_xCloudTitles",{}),e()(this,"_productIdQueue",[]),e()(this,"_xCloudRecentTitles",{}),e()(this,"_xCloudRecentTitlesLastUpdate",0),this._application=t,this._http=new $t(this._application)}getOfficialTitles(){return new(q())((t=>{let e=[];Z().get("https://cdn.jsdelivr.net/gh/Geocld/XStreaming@main/titles.json",{timeout:1e4}).then((r=>{200===r.status&&(e=r.data.Products),t(e)})).catch((e=>{t([])}))}))}getGamePassProducts(t){return new(q())(((e,r)=>{const n=[],s={};Kt()(t)||e([]),m()(t).call(t,(t=>{t.details&&t.details.productId&&(n.push(t.details.productId),s[t.details.productId]=t)})),this.getOfficialTitles().then((t=>{const i=[...new(Jt())([...n,...t])];this._http.post("catalog.gamepass.com","/v3/products?market=US&language=en-US&hydration=RemoteLowJade0",{Products:i},{"ms-cv":0,"calling-app-name":"Xbox Cloud Gaming Web","calling-app-version":"24.17.63"}).then((t=>{if(t&&t.Products){const r=t.Products,n=[];for(const t in r)s[t]?n.push(Qt(Qt({productId:t},r[t]),s[t])):n.push(Qt({productId:t},r[t]));V()(n).call(n,((t,e)=>t.ProductTitle.localeCompare(e.ProductTitle))),e(n)}else e([])})).catch((t=>{console.log("getGamePassProducts error:",t),r(t)}))}))}))}getNewTitles(){return this._http.get("catalog.gamepass.com","/sigls/v2?id=f13cf6b4-57e6-4459-89df-6aec18cf0538&market=US&language=en-US")}}class Zt{constructor(t){e()(this,"_application",void 0),this._application=t}getHistoryAchivements(){const t=new Ft,e=this._application._store.get("settings",{}).preferred_game_language||"en-US";return new(q())(((r,n)=>{const s=this._application.webToken.data.DisplayClaims.xui[0].uhs,i=this._application.webToken.data.DisplayClaims.xui[0].xid;t.get("achievements.xboxlive.com",`/users/xuid(${i})/history/titles?orderBy=unlockTime`,{Authorization:"XBL3.0 x="+s+";"+this._application.webToken.data.Token,"Accept-Language":e,"x-xbl-contract-version":2,"x-xbl-client-name":"XboxApp","x-xbl-client-type":"UWA","x-xbl-client-version":"39.39.22001.0"}).then((t=>{t.titles?r(t.titles):r([])})).catch((t=>{console.log("[getHistoryAchivements] error:",t),n(t)}))}))}getAchivementDetail(t){const e=new Ft,r=this._application._store.get("settings",{}).preferred_game_language||"en-US";return new(q())(((n,s)=>{const i=this._application.webToken.data.DisplayClaims.xui[0].uhs,o=this._application.webToken.data.DisplayClaims.xui[0].xid;e.get("achievements.xboxlive.com",`/users/xuid(${o})/achievements?titleId=${t}&maxItems=1000`,{Authorization:"XBL3.0 x="+i+";"+this._application.webToken.data.Token,"Accept-Language":r,"x-xbl-contract-version":2,"x-xbl-client-name":"XboxApp","x-xbl-client-type":"UWA","x-xbl-client-version":"39.39.22001.0"}).then((t=>{t.achievements?n(t.achievements):n([])})).catch((t=>{console.log("[getAchivementDetail] error:",t),s(t)}))}))}}class te extends Nt{constructor(t){super(t),e()(this,"_titleManager",void 0),e()(this,"_achivementManager",void 0),e()(this,"_titlesAreLoaded",!1),e()(this,"_titles",[]),e()(this,"_titlesLastUpdate",0),e()(this,"_recentTitles",[]),e()(this,"_recentTitlesLastUpdate",0),e()(this,"_newTitles",[]),e()(this,"_newTitlesLastUpdate",0),this._titleManager=new Yt(t),this._achivementManager=new Zt(t)}startUp(){this._application.log("Ipc:xCloud","Starting xCloud IPC Channel...")}getRecentTitles(){const t=this._application.streamingTokens;return new X(this._application,t.xCloudToken.getDefaultRegion().baseUri.substring(8),t.xCloudToken.data.gsToken,"cloud").getRecentTitles()}getXhomeToken(){return console.log("getXhomeToken"),new(q())((t=>{this._application.streamingTokens&&this._application.streamingTokens.xHomeToken?t(this._application.streamingTokens.xHomeToken.data):t(null)}))}setXhomeTokenDefault(t){return new(q())((e=>{this._application.streamingTokens.xHomeToken.setDefaultRegion(t),e(null)}))}getXcloudToken(){return console.log("getXcloudToken"),new(q())((t=>{this._application.streamingTokens&&this._application.streamingTokens.xCloudToken?t(this._application.streamingTokens.xCloudToken.data):t(null)}))}setXcloudTokenDefault(t){return new(q())((e=>{this._application.streamingTokens.xCloudToken&&this._application.streamingTokens.xCloudToken.setDefaultRegion(t),e({})}))}getTitles(){const t=this._application.streamingTokens,e=new X(this._application,t.xCloudToken.getDefaultRegion().baseUri.substring(8),t.xCloudToken.data.gsToken,"cloud");return new(q())(((t,r)=>{e.getTitles().then((e=>{t(e)})).catch((t=>{r(t)}))}))}getGamePassProducts(t){return this._titleManager.getGamePassProducts(t)}getNewTitles(){return this._titleManager.getNewTitles()}getHistoryAchivements(){return this._achivementManager.getHistoryAchivements()}getAchivementDetail(t){return this._achivementManager.getAchivementDetail(t)}}class ee extends Nt{loadCachedUser(){return new(q())((t=>{t(this.getUserState())}))}getUserState(){const t=this._application._store.get("user.gamertag"),e=this._application._store.get("user.gamerpic"),r=this._application._store.get("user.gamerscore");return{signedIn:!!t,type:"user",gamertag:t||"",gamerpic:e||"",gamerscore:r||"",level:this._application._authentication._appLevel}}getAuthState(){return new(q())((t=>{t({isAuthenticating:this._application._authentication._isAuthenticating,isAuthenticated:this._application._authentication._isAuthenticated,user:this.getUserState()})}))}getAppLevel(){return new(q())((t=>{t(this._application._authentication._appLevel)}))}checkAuthentication(){return new(q())((t=>{t(this._application._authentication.checkAuthentication())}))}login(){return new(q())((t=>{this._application._authentication.startAuthflow(),t(!0)}))}quit(){return new(q())((t=>{t(!0),z()((()=>{this._application.quit()}),100)}))}restart(){return new(q())((t=>{t(!0),z()((()=>{this._application.restart()}),100)}))}clearData(){return new(q())(((t,e)=>{k.session.defaultSession.clearStorageData().then((()=>{this._application._authentication._tokenStore.clear(),this._application._store.delete("user"),this._application._store.delete("auth"),this._application.log("authentication",__filename+"[startIpcEvents()] Received restart request. Restarting application..."),this._application.restart(),t(!0)})).catch((t=>{this._application.log("authentication",__filename+"[startIpcEvents()] Error: Failed to clear local storage!"),e(t)}))}))}getOnlineFriends(){return new(q())((t=>{void 0===this._application._xboxWorker?t([]):t(this._application._xboxWorker._onlineFriends)}))}onUiShown(){return new(q())((t=>{t({})}))}isFullscreen(){return new(q())((t=>{t(this._application._mainWindow.isFullScreen())}))}toggleFullscreen(){return new(q())((t=>{const e=this._application._mainWindow.isFullScreen();this._application._mainWindow.setFullScreen(!e),t({})}))}enterFullscreen(){return new(q())((t=>{this._application._mainWindow.setFullScreen(!0),t({})}))}exitFullscreen(){return new(q())((t=>{this._application._mainWindow.setFullScreen(!1),t({})}))}}function re(t,e){var r=a()(t);if(u()){var n=u()(t);e&&(n=h()(n).call(n,(function(e){return g()(t,e).enumerable}))),r.push.apply(r,n)}return r}function ne(t){for(var r=1;r<arguments.length;r++){var n,s,i=null!=arguments[r]?arguments[r]:{};r%2?m()(n=re(Object(i),!0)).call(n,(function(r){e()(t,r,i[r])})):w()?_()(t,w()(i)):m()(s=re(Object(i))).call(s,(function(e){S()(t,e,g()(i,e))}))}return t}class se extends Nt{setSettings(t){return new(q())((e=>{const r=ne(ne({},$),t);this._application._store.set("settings",r),e(r)}))}getSettings(){return new(q())((t=>{const e=this._application._store.get("settings",$);t(ne(ne({},$),e))}))}resetSettings(){return new(q())((t=>{const e=ne({},$);this._application._store.delete("settings"),this._application._store.set("settings",e),t(e)}))}}class ie{constructor(t){e()(this,"_application",void 0),e()(this,"_channels",void 0),this._application=t,this._channels={streaming:new Ht(this._application),consoles:new Wt(this._application),app:new ee(this._application),xCloud:new te(this._application),settings:new se(this._application)};for(const t in this._channels)k.ipcMain.on(t,((e,r)=>{this._channels[t].onEvent(t,e,r)}))}startUp(){for(const t in this._channels)this._application.log("Ipc","Starting IPC channel: "+t),this._channels[t].startUp&&this._channels[t].startUp()}onUserLoaded(){for(const t in this._channels)this._channels[t].onUserLoaded&&(this._application.log("Ipc","Loading startup data for IPC channel: "+t),this._channels[t].onUserLoaded())}}var oe=p(2170),ae=p.n(oe);function ce(t,e){var r=a()(t);if(u()){var n=u()(t);e&&(n=h()(n).call(n,(function(e){return g()(t,e).enumerable}))),r.push.apply(r,n)}return r}class ue{constructor(){e()(this,"_log",void 0),e()(this,"_store",new(P())),e()(this,"_startupFlags",{fullscreen:!1,autoStream:""}),e()(this,"_isProduction",!0),e()(this,"_isCi",void 0!==process.env.CI),e()(this,"_isMac","darwin"===process.platform),e()(this,"_isWindows","win32"===process.platform),e()(this,"_isQuitting",!1),e()(this,"_mainWindow",void 0),e()(this,"_ipc",void 0),e()(this,"_authentication",void 0),e()(this,"streamingTokens",void 0),e()(this,"webToken",void 0),e()(this,"_webApi",void 0),e()(this,"_xHomeApi",void 0),e()(this,"_xCloudApi",void 0),e()(this,"_xboxWorker",void 0),e()(this,"_gpuWindow",void 0),console.log(__filename+"[constructor()] Starting XStreaming v"+tt),this._log=j()("xstreaming"),k.app.commandLine.appendSwitch("enable-features","VaapiIgnoreDriverChecks,VaapiVideoDecoder,PlatformHEVCDecoderSupport,CanvasOopRasterization"),k.app.commandLine.appendSwitch("enable-gpu-rasterization"),k.app.commandLine.appendSwitch("enable-oop-rasterization"),k.app.commandLine.appendSwitch("accelerated-video-decode"),k.app.commandLine.appendSwitch("ozone-platform-hint","x11"),k.app.commandLine.appendSwitch("ignore-gpu-blocklist"),this.readStartupFlags(),this.loadApplicationDefaults(),this._ipc=new ie(this),this._authentication=new Lt(this),this._ipc.startUp()}log(t="application",...e){this._log.extend(t)(...e)}getStartupFlags(){return this._startupFlags}resetAutostream(){this._startupFlags.autoStream=""}readStartupFlags(){this.log("application",__filename+"[readStartupFlags()] Program args detected:",process.argv);for(const r in process.argv){var t,e;if(n()(t=process.argv[r]).call(t,"--fullscreen")&&(this.log("application",__filename+"[readStartupFlags()] --fullscreen switch found. Setting fullscreen to true"),this._startupFlags.fullscreen=!0),n()(e=process.argv[r]).call(e,"--connect=")){const t=process.argv[r].substring(10);this.log("application",__filename+"[readStartupFlags()] --connect switch found. Setting autoStream to",t),this._startupFlags.autoStream=t}}this.log("application",__filename+"[readStartupFlags()] End result of startupFlags:",this._startupFlags)}loadApplicationDefaults(){if(!0===this._isProduction&&!1===this._isCi)A()({directory:"app"});else if(!0===this._isCi){const t=100*Math.random();k.app.setPath("userData",`${k.app.getPath("userData")} (${t})`),k.app.setPath("sessionData",`${k.app.getPath("userData")} (${t})`),this._store.delete("user"),this._store.delete("auth"),A()({directory:"app"})}else k.app.setPath("userData",`${k.app.getPath("userData")} (development)`);k.app.whenReady().then((()=>{this.log("electron",__filename+"[loadApplicationDefaults()] Electron has been fully loaded. Ready to open windows"),this.openMainWindow(),this._authentication.startWebviewHooks()})).catch((t=>{this.log("electron",__filename+"[loadApplicationDefaults()] Electron has failed to load:",t)})),k.app.on("window-all-closed",(()=>{!0===this._isMac?this.log("electron",__filename+"[loadApplicationDefaults()] Electron detected that all windows are closed. Running in background..."):(this.log("electron",__filename+"[loadApplicationDefaults()] Electron detected that all windows are closed. Quitting app..."),k.app.quit())})),k.app.on("activate",(()=>{void 0!==this._mainWindow?this._mainWindow.show():this.openMainWindow()})),k.app.on("before-quit",(()=>this._isQuitting=!0))}authenticationCompleted(t,e){this.log("electron",__filename+"[authenticationCompleted()] authenticationCompleted called"),this.log("electron",__filename+"[authenticationCompleted()] streamingTokens:",t),this.streamingTokens=t,this.webToken=e,this._webApi=new(ae())({userToken:e.data.Token,uhs:e.data.DisplayClaims.xui[0].uhs}),this._authentication._isAuthenticating=!1,this._authentication._isAuthenticated=!0,this._webApi.getProvider("profile").get("/users/me/profile/settings?settings=GameDisplayName,GameDisplayPicRaw,Gamerscore,Gamertag").then((t=>{if(t.profileUsers.length>0)for(const e in t.profileUsers[0].settings)"Gamertag"===t.profileUsers[0].settings[e].id?this._store.set("user.gamertag",t.profileUsers[0].settings[e].value):"GameDisplayPicRaw"===t.profileUsers[0].settings[e].id?this._store.set("user.gamerpic",t.profileUsers[0].settings[e].value):"Gamerscore"===t.profileUsers[0].settings[e].id&&this._store.set("user.gamerscore",t.profileUsers[0].settings[e].value);this._xboxWorker=new Q(this),this._ipc.onUserLoaded()})).catch((t=>{this.log("electron",__filename+"[authenticationCompleted()] Failed to retrieve user profile:",t),k.dialog.showMessageBox({message:"Error: Failed to retrieve user profile:"+i()(t),type:"error"})}))}openMainWindow(){this.log("electron",__filename+"[openMainWindow()] Creating new main window");const t=this._store.get("settings",$);console.log("settings:",t);const r={title:"XStreaming",backgroundColor:"rgb(26, 27, 30)"};t.fullscreen&&(r.fullscreen=!0),this._mainWindow=N("main",function(t){for(var r=1;r<arguments.length;r++){var n,s,i=null!=arguments[r]?arguments[r]:{};r%2?m()(n=ce(Object(i),!0)).call(n,(function(r){e()(t,r,i[r])})):w()?_()(t,w()(i)):m()(s=ce(Object(i))).call(s,(function(e){S()(t,e,g()(i,e))}))}return t}({width:1280,height:800},r)),this._mainWindow.on("show",(()=>{this.log("electron",__filename+"[openMainWindow()] Showing Main window.")})),this._mainWindow.on("close",(t=>{!0===this._isMac&&!1===this._isQuitting?(t.preventDefault(),this.log("electron",__filename+"[openMainWindow()] Main windows has been hidden"),this._mainWindow.hide()):(this.log("electron",__filename+"[openMainWindow()] Main windows has been closed"),this._mainWindow=void 0)}));const n=t.locale||"en";if(!0===this._isProduction&&!1===this._isCi)this._mainWindow.loadURL(`app://./${n}/home`);else{const t=process.argv[2]||3e3;this._mainWindow.loadURL(`http://localhost:${t}/${n}/home`)}}openGPUWindow(){this._gpuWindow=new k.BrowserWindow({width:800,height:600}),this._gpuWindow.loadURL("chrome://gpu"),this._gpuWindow.webContents.openDevTools()}quit(){k.app.quit()}restart(){this.quit(),k.app.relaunch()}}new ue})(),f})()));
//# sourceMappingURL=background.js.map